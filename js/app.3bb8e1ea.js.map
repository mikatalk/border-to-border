{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?556b","webpack:///./src/components/CanvasView.vue?6ab9","webpack:///./src/graphics/shader-node.js","webpack:///./src/graphics/shader-link.js","webpack:///./src/graphics/shader-label.js","webpack:///./src/utils/wrapText.js","webpack:///./src/graphics/LayerLabels.js","webpack:///./src/constants/control-types.js","webpack:///./src/vo/Group.js","webpack:///./src/graphics/Graphics.js","webpack:///src/components/CanvasView.vue","webpack:///./src/components/CanvasView.vue?a076","webpack:///./src/components/CanvasView.vue","webpack:///./src/constants/tooltips.js","webpack:///./src/components/ToggleBtn.vue?2a88","webpack:///src/components/ToggleBtn.vue","webpack:///./src/components/ToggleBtn.vue?a5e6","webpack:///./src/components/ToggleBtn.vue","webpack:///src/App.vue","webpack:///./src/App.vue?c53a","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/components/CanvasView.vue?1b91","webpack:///./src/graphics/simulation-worker.js","webpack:///./src/components/ToggleBtn.vue?59fd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","class","menuVisible","ref","style","settings","globals","attrs","nodes","links","_e","staticClass","showIslandsBtnLabel","on","toggleIslands","$event","zoom","_v","showMoreInfo","_s","staticRenderFns","vertex","fragment","vertexBar","fragmentBar","vertexLabel","fragmentLabel","wrapText","ctx","text","maxWidth","lines","words","replace","split","space","measureText","width","len","line","word","w","wordChunks","maxNumLetters","numChunks","Math","ceil","chunk","substr","trim","CanvasRenderingContext2D","roundRect","x","y","height","radius","moveTo","lineTo","quadraticCurveTo","LayerLabels","parentScope","nodesData","externalSettings","nodeIndexToLabelIndex","Int32Array","fill","sizePOT","numCols","numRows","tilesCount","tileWidth","tileHeight","tileWidthHalf","tileHeightHalf","fontScale","visibilityThreshold","textColor","textOpacity","backgroundColor","backgroundOpacity","fontSize","lineHeight","safePadding","lineHeightSizeDiff","nodeIndexPointer","labelIndexPointer","console","log","behavior","isEnabled","BEHAVIOR_AUTO_TOGGLE","BEHAVIOR_CLICK_TO_TOGGLE","canvas","document","createElement","context2D","getContext","enabledLabels","maskCanvas","maskContext2D","font","textAlign","textBaseline","debugMode","body","appendChild","position","top","background","transform","transformOrigin","uniformsData","time","scale","isPicking","map","gridNums","THREE","cameraOffset","attributesData","offsets","indexes","texture","geometry","copy","addAttribute","Float32Array","material","uniforms","vertexShader","fragmentShader","side","transparent","alphaTest","blending","mesh","isOccupied","Array","redrawLabels","redrawAutoLabels","drawEnabledLabels","nodeIndex","arrayIndex","indexOf","clearRect","min","stampTextAt","needsUpdate","labelIndex","labels","attributes","offset","array","i3","runs","targetPositions","camera","left","right","bottom","innerRuns","floor","fillStyle","globalAlpha","forEach","index","localX","localY","beginPath","closePath","drawImage","fillText","elapsedTime","delta","cameraZoom","rotateLabels","SIMULATION_ALPHA_DECAY","SIMULATION_RESTART","SIMULATION_HAS_RESTARTED","SIMULATION_COLLISION_STRENGTH","SIMULATION_COLLISION_RADIUS","SIMULATION_LINKS_DISTANCE","SIMULATION_LINKS_STRENGTH","SIMULATION_CHARGE_STRENGTH","SIMULATION_CHARGE_DISTANCE_MIN","SIMULATION_CHARGE_DISTANCE_MAX","SIMULATION_FORCE_X_STRENGTH","SIMULATION_FORCE_Y_STRENGTH","SIMULATION_SET_NUM_VISIBLE_NODES","LABELS_SET_ACTIVE","LABELS_SET_FONT_SCALE","LABELS_SET_VISIBILITY_THRESHOLD","LABELS_SET_TEXT_COLOR","LABELS_SET_TEXT_OPACITY","LABELS_SET_BACKGROUND_COLOR","LABELS_SET_BACKGROUND_OPACITY","GLOBALS_SET_BACKGROUND_COLOR","GLOBALS_SET_HUE","GLOBALS_SET_CONTRAST","GLOBALS_SET_GRAYSCALE","NODES_USE_TWO_COLORS","NODES_SET_COLOR_1","NODES_SET_COLOR_2","NODES_SET_FACTOR_CONTROLLER","NODES_SET_MINIMUM_OPACITY","NODES_SET_WEIGHTED_OPACITY","NODES_SET_MINIMUM_SCALE","NODES_SET_WEIGHTED_SCALE","LINKS_SET_COLOR","LINKS_SET_FACTOR_CONTROLLER","LINKS_SET_MINIMUM_OPACITY","LINKS_SET_WEIGHTED_OPACITY","LINKS_SET_MINIMUM_SCALE","LINKS_SET_WEIGHTED_SCALE","CAPTION_IS_ENABLED","CAPTION_TEXT_COLOR","CAPTION_TEXT_SIZE","CAPTION_BACKGROUND_COLOR","CAPTION_BACKGROUND_OPACITY","CAPTION_BORDER_COLOR","CAPTION_BORDER_OPACITY","CAPTION_BORDER_SIZE","QUERY_TYPE_REGEX","QUERY_TYPE_NUMERIC","Group","id","uuid","v4","visible","color","random","toString","caseSensitive","queryType","queryString","mockData","require","RADIUS","SAFE_WIDTH","SAFE_HEIGHT","resolvePart","comparator","sampleValue","parseFloat","Graphics","container","linksData","linksColumns","linksNormalizedColumns","clock","getDelta","update","nodePositions","count","setNodePositionAtLabelIndex","rotationAxis","normalize","linkPositions","linkScales","linkRotations","orientation","i2","i4","nodeId1","source","nodeId2","target","body1X","body1Y","body2X","body2Y","hypot","deltaX","deltaY","angle","atan2","quaternion","setFromAxisAngle","z","draw","animationCallback","requestAnimationFrame","loop","getBoundingClientRect","projectedWidth","projectedHeight","updateProjectionMatrix","renderer","setSize","pickingRenderTarget","handleMouseUp","mouse","isDown","worker","postMessage","command","mouseTargetIndex","event","wheelDelta","detail","preventDefault","offsetX","pageX","offsetLeft","devicePixelRatio","offsetY","pageY","offsetTop","projectedX","projectedY","current","ratioX","ratioY","diffX","previous","diffY","handleDrag","handleMouseTouchON","findTargetFromMouseMap","toggleEnabledLabelAtNodeIndex","changedTouches","handleMouseMove","stopImmediatePropagation","context","antialias","alpha","setPixelRatio","setClearColor","scene","add","previousZoom","pixelBuffer","Uint8Array","types","groups","mouseTags","weights","useTwoColors","minimumOpacity","weightedOpacity","minimumScale","weightedScale","baseColor1","color1","baseColor2","color2","groupColor1","groupColor2","groupColor3","groupColor4","type","scales","orientations","opacity","baseColor","orientationAttribute","SimulationWorker","simulation","countries","onmessage","message","setNodeTargetPositionAtIndex","valuesX","valuesY","skipTransition","addListeners","handleResize","simulationIsRunning","updateNodesWeightedScales","updateLinksWeightedScales","group","groupsAttribute","node","q","toLowerCase","RegExp","test","e","columnLetter1","comparator1","sampleValue1","operator","columnLetter2","comparator2","sampleValue2","isMatch","controlTypes","alphaDecay","strength","distance","charge","distanceMin","distanceMax","collision","forceX","forceY","factorController","keys","letterController","scaleIsWeighted","setBehavior","weight","linksCount","columnIndex","render","setRenderTarget","clear","readRenderTargetPixels","zoomDirection","ZOOM_MIN","ZOOM_MAX","ZOOM_VEL","max","addEventListener","handleScroll","handleMouseLeave","handleMouseDown","handleTouchStart","handleTouchMove","removeEventListener","removeListeners","cancelAnimationFrame","_graphics","onScreenIdle","computed","props","typre","default","watch","initialize","methods","updateSetting","updateSettingByName","refreshGroups","zoomByIncrement","destroyed","dispose","component","tooltips","css","hue","contrast","grayscale","rotationIsEnabled","colorSwap","active","isActive","$emit","border","label","Boolean","required","String","mounted","setActive","state","components","ToggleBtn","CanvasView","$nextTick","showIslands","toggle","location","href","base","$refs","setOpenMenu","panelsOpened","menu","toggleGroupVisibilityAt","$store","dispatch","keyName","url","URL","searchParams","themeColor","Vue","use","Vuex","handleResponse","response","commit","alphabet","values","rowIndex","val","letterIndex","keysToIndex","code","link","Store","google","isLoaded","isSignedIn","isReadyForUI","user","firstName","lastName","fullName","image","userId","sheet","firstRow","lastRow","mergeColumns","needsRestart","numVisibleNodes","isRunning","caption","textSize","borderColor","borderOpacity","borderSize","getters","captionSettings","mutations","applyPreset","preset","JSON","stringify","set","setLinksColumnsData","assign","updateLoadedStatus","updateSigninStatus","profile","auth2","getAuthInstance","currentUser","getBasicProfile","getGivenName","getFamilyName","getName","getImageUrl","getId","updateReadyForUIStatus","updateDocumentMeta","setNodesAndLinks","addNewGroup","updateGroup","g","Error","updateGroupKeyAt","deleteGroupById","actions","setting","addGroup","Promise","resolve","reject","alert","validateThenLoadSheet","setTimeout","range","majorDimension","borders","config","productionTip","version","localStorage","getItem","appVersion","setItem","store","h","App","$mount","Worker"],"mappings":"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","file":"js/app.3bb8e1ea.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://mikatalk.github.io/border-to-border/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['app page-container', {'menu-visible': _vm.menuVisible}]},[(_vm.isReadyForUI)?_c('canvas-view',{ref:\"canvas-view\",style:((\"filter: hue-rotate(\" + (_vm.settings.globals.hue) + \"deg) grayscale(\" + (_vm.settings.globals.grayscale) + \"%) contrast(\" + (_vm.settings.globals.contrast) + \"%)\")),attrs:{\"settings\":_vm.settings,\"nodes\":_vm.nodes,\"links\":_vm.links}}):_vm._e(),_c('div',{staticClass:\"groups-caption\"},[_c('toggle-btn',{ref:\"show-islands-toggle\",attrs:{\"active\":true,\"label\":_vm.showIslandsBtnLabel,\"color\":\"#083868\"},on:{\"change\":_vm.toggleIslands}})],1),_c('div',{staticClass:\"zoom-controls\"},[_c('span',{staticClass:\"btn-zoom\",on:{\"click\":function($event){return _vm.zoom('out')}}},[_vm._v(\"-\")]),_c('span',{staticClass:\"btn-zoom\",on:{\"click\":function($event){return _vm.zoom('in')}}},[_vm._v(\"+\")])]),_c('header',{staticClass:\"header\"},[_c('h1',[_vm._v(\"Border to Border,\")]),_c('h2',[_vm._v(\"A different perspective.\")]),_c('span',{staticClass:\"btn\",on:{\"click\":function($event){_vm.showMoreInfo=!_vm.showMoreInfo}}},[_vm._v(\"(\"+_vm._s(_vm.showMoreInfo ? 'Close' : 'More Info')+\")\")]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showMoreInfo)?_c('div',[_c('p',[_c('em',[_vm._v(\"Author: \")]),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://www.michael-iriarte.com/\",\"rel\":\"no-follow\"}},[_vm._v(\"Michael 'Mika' Iriarte\")])]),_c('p',[_c('em',[_vm._v(\"Tools: \")]),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://d3js.org/\",\"rel\":\"no-follow\"}},[_vm._v(\"D3.js\")]),_vm._v(\" and \"),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://threejs.org/examples/\",\"rel\":\"no-follow\"}},[_vm._v(\"Three.js\")])]),_c('p',[_c('em',[_vm._v(\"Data: \")]),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://github.com/geodatasource/country-borders\",\"rel\":\"no-follow\"}},[_vm._v(\"Borders\")]),_vm._v(\" and \"),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://developers.google.com/public-data/docs/canonical/countries_csv\",\"rel\":\"no-follow\"}},[_vm._v(\"Centroids\")])]),_c('p',[_c('em',[_vm._v(\"Note:\")]),_vm._v(\" Overseas territories are represented as separate entities (e.g. Gibraltar, French Guiana)\")])]):_vm._e()])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-view\"},[_c('canvas',{ref:\"webgl-canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const vertex = `\n  precision highp float;\n  uniform float time;\n\n  float scaleRange = 50.0;\n  \n  attribute float weight;\n  uniform float minimumScale;\n  uniform float weightedScale;\n  uniform float minimumOpacity;\n  uniform float weightedOpacity;\n  varying float vOpacity;\n\n  \n  uniform vec2 cameraOffset;\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  attribute vec3 position;\n  \n  attribute vec4 mouseTag;\n  varying vec4 vMouseTag;\n\n  attribute vec2 uv;\n  varying vec2 vUv;\n\n  attribute vec4 groups;\n  varying vec4 vGroups;\n\n  attribute float particleIndex;\n  varying float vParticleIndex;\n  \n  // attribute float scale;\n  attribute vec3 offset;\n  attribute vec4 color;\n  \n  varying float vType;\n  attribute float type;\n\n  void main(){\n\n    // float scale = minimumScale * scaleRange / 4.0;\n    // scale += weight * weightedScale * scaleRange;\n    // scale += weightedScale * scaleRange;\n    float scale = minimumScale * scaleRange + weight * weightedScale * scaleRange;\n    // float scale = minimumScale * scaleRange / 4.0 + 1.0    * weightedScale * scaleRange;\n\n    vOpacity = minimumOpacity + weight * weightedOpacity;\n    vOpacity = clamp(vOpacity, 0.0, 1.0);\n    \n    vec3 pos = position * vec3(scale, scale , 1.0);\n    pos = pos + offset;\n    pos.xy += cameraOffset;\n    \n    vMouseTag = mouseTag;\n    vType = type;\n    vGroups = groups;\n    \n    vParticleIndex = particleIndex;\n    vUv = vec2(uv.x, 1.0-uv.y);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0 );\n  }\n  `\n  \n  const fragment = `\n  precision highp float;\n  uniform float time;\n  // uniform float minimumOpacity;\n  // uniform float minimumScale;\n  uniform float useTwoColors;\n  uniform float isPicking;\n  uniform vec3 baseColor1;\n  uniform vec3 baseColor2;\n  uniform vec3 groupColor1;\n  uniform vec3 groupColor2;\n  uniform vec3 groupColor3;\n  uniform vec3 groupColor4;\n  varying vec2 vUv;\n  varying vec4 vMouseTag;\n  varying float vType;\n  varying float vRatio;\n  varying float vScale;\n  varying float vParticleIndex;\n  varying vec4 vGroups;\n  \n  varying float vOpacity;\n\n  #define PI2 6.28318530718\n\n  mat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle), sin(_angle),cos(_angle));\n  }\n\n  // used by the mouse target picker\n  float circle(in vec2 st, in float radius){\n    vec2 dist = st - vec2(0.5);\n    return 1.0 - smoothstep(radius - (radius * 0.01),\n      radius + (radius * 0.01),\n      dot(dist, dist) * 4.0);\n  }\n\n  float drawBase (in vec2 uv, in float min, in float max) {\n    float dist = sqrt(dot(uv, uv));\n    if (dist >= max || dist <= min) {\n      return 0.0;\n    }\n    float sm = smoothstep(max, max - 0.01, dist);\n    float sm2 = smoothstep(min, min - 0.01, dist);\n    float alpha = sm * sm2;\n    return (1.0-alpha);\n  }\n\n  float drawArc (in vec2 uv, in float min, in float max, in float startAngle, in float sizeAngle) {\n    \n    uv = rotate2d(startAngle) * uv;\n    \n    float dist = sqrt(dot(uv, uv));\n    if (dist >= max || dist <= min) {\n      return 0.0;\n    }\n    float sm = smoothstep(max, max - 0.01, dist);\n    float sm2 = smoothstep(min, min - 0.01, dist);\n    float alpha = sm * sm2;\n    \n    float g = uv.x / dist;\n    float ds = (1.0 - pow(g, 16.0)) * 0.005;\n    float sector = 0.5 + g / 2.0;\n    float s = smoothstep(sizeAngle, sizeAngle + ds, sector);\n    return 1.0 - s;\n  }\n\n  void main() {\n\n    vec4 color = vec4(0);\n    if (isPicking == 1.0) {\n    \n      vec2 uv = vUv;\n      color = vec4(vMouseTag.rgb, circle(uv, 1.0));\n    \n    } else {\n      \n      vec2 uv = vUv - vec2(0.5);\n      \n      float base = drawBase(uv, 0.0, 0.5);\n      if (base == 0.0) {\n        discard;\n      }\n      if (useTwoColors == 0.0) {\n        color = vec4(baseColor1, base);\n      } else if (vType == 1.0) {\n        color = vec4(baseColor1, base);\n      } else if (vType == 2.0) {\n        color = vec4(baseColor2, base);\n      } else {\n        color = vec4(\n          mod((uv.x + uv.y/2.0) * 3.0, 1.0) \n            > 0.5 ? baseColor1 : baseColor2,\n        base);\n      }\n\n      float numSegments = 0.0;\n      if (vGroups.r == 1.0) {\n        numSegments = numSegments + 1.0;\n      }\n      if (vGroups.g == 1.0) {\n        numSegments = numSegments + 1.0;\n      }\n      if (vGroups.b == 1.0) {\n        numSegments = numSegments + 1.0;\n      }\n      if (vGroups.a == 1.0) {\n        numSegments = numSegments + 1.0;\n      }\n\n      if (numSegments > 0.0) {\n      \n        // uv = rotate2d(2.0 * time + vParticleIndex) * uv;\n        // uv = rotate2d(2.0 * time) * uv;\n        float drawn = 0.0;\n        for (float i = 0.0; i < 4.0; i += 1.0) {\n          float arc = drawArc(uv, 0.25, 0.45, 1.0 / numSegments * drawn * PI2, 0.5 / (numSegments-1.0));\n          if (i == 0.0 && vGroups.r == 1.0) {\n            if (arc > 0.0) {\n              color = vec4(groupColor1, arc);\n            }\n            drawn += 1.0;\n          } else if (i == 1.0 && vGroups.g == 1.0) {\n            if (arc > 0.0) {\n              color = vec4(groupColor2, arc);\n            }\n            drawn += 1.0;\n          } else if (i == 2.0 && vGroups.b == 1.0) {\n            if (arc > 0.0) {\n              color = vec4(groupColor3, arc);\n            }\n            drawn += 1.0;\n          } else if (i == 3.0 && vGroups.a == 1.0) {\n            if (arc > 0.0) {\n              color = vec4(groupColor4, arc);\n            }\n            drawn += 1.0;\n          }\n        }\n      }\n\n      \n      color.a = vOpacity;\n    }\n\n\n    gl_FragColor = color;    \n  }\n`\n\nexport {\n  vertex,\n  fragment\n}\n","const vertexBar = `\n  precision highp float;\n  uniform float time;\n\n  float scaleRange = 20.0;\n\n\n  uniform vec2 cameraOffset;\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  attribute vec2 uv;\n  varying vec2 vUv;\n  attribute vec3 position;\n\n  attribute float particleIndex;\n  varying float vParticleIndex;\n  \n  attribute vec4 orientation;\n  attribute vec3 offset;\n  attribute vec4 color;\n  attribute vec2 scale;\n\n  attribute float weight;\n  uniform float minimumScale;\n  uniform float weightedScale;\n  uniform float minimumOpacity;\n  uniform float weightedOpacity;\n  varying float vOpacity;\n\n  vec3 applyQuaternionToVector( vec4 q, vec3 v ){\n    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n  }\n\n  void main() {\n\n    vOpacity = minimumOpacity + weight * weightedOpacity;\n    vOpacity = clamp(vOpacity, 0.0, 1.0);\n    \n    // float scaleY = minimumScale * 100.0;\n    // scaleY += weight * weightedScale * 500.0;// scaleRange;\n    float scaleY = minimumScale * 50.0;\n    scaleY += weight * weightedScale * 100.0;\n    // vOpacity = minimumOpacity + weight * weightedOpacity;\n    // vOpacity = clamp(vOpacity, 0.0, 1.0);\n    \n    \n    // vec2 scale = vec2(100.0, 200.0);\n    \n    vec3 pos = position * vec3(scale.x, scaleY, 1.0);\n    pos = applyQuaternionToVector(orientation, pos);\n    pos = pos + offset;\n    pos.xy += cameraOffset;\n    \n    vParticleIndex = particleIndex;\n    vUv = vec2(uv.x, 1.0-uv.y);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0 );\n  }\n  `\n  \n  const fragmentBar = `\n  precision highp float;\n  uniform float opacity;\n  uniform float time;\n  uniform sampler2D map;\n  uniform float isPicking;\n  varying vec2 vUv;\n  varying float vParticleIndex;\n  uniform vec3 baseColor;\n\n  varying float vOpacity;\n\n  mat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n  }\n\n  void main() {\n    \n    if (isPicking == 1.0) {\n      discard;\n    }\n    \n    vec2 uv = vUv;\n    \n    uv = rotate2d(vParticleIndex) * uv;\n    float ratio = 1.0; // (sin(vUv.y * 3.1415) + 1.0) / 2.0;\n    float diff = mod(vParticleIndex, 100.0) / 600.0; // slight diff per link to increase contrasted\n    vec4 color = vec4(\n      baseColor * ratio,\n      1.0);\n    \n    if (color.a == 0.0) {\n      discard;\n    }\n\n    color.a = vOpacity;\n    \n    gl_FragColor = vec4(color);\n      \n  }\n`\n\nexport {\n  vertexBar,\n  fragmentBar\n}\n","const vertexLabel = `\n  precision highp float;\n  uniform float time;\n  uniform vec2 cameraOffset;\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  attribute vec2 uv;\n  varying vec2 vUv;\n  attribute vec3 position;\n  attribute float particleIndex;\n  varying float vParticleIndex;\n  attribute vec3 offset;\n  uniform float scale;\n\n  void main() {\n    vec3 pos = position * vec3(scale, scale, 1.0);\n    // vec3 pos = position;\n   \n    pos = pos + offset;\n    pos.xy += cameraOffset;\n  \n    vParticleIndex = particleIndex;\n\n    vUv = vec2(uv.x, 1.0-uv.y);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0 );\n  }\n  `\n  \nconst fragmentLabel = `\n  precision highp float;\n  uniform float time;\n  uniform sampler2D map;\n  uniform float isPicking;\n  uniform vec2 gridNums;\n  varying vec2 vUv;\n  varying float vRatio;\n  varying float vParticleIndex;\n\n  void main() {\n    \n    if (isPicking == 1.0) {\n      discard;\n    }\n    \n    // vec2 uv = vec2(vUv.x, vUv.y);\n      \n    vec2 unit = vec2(\n      1.0 / gridNums.x,\n      1.0 / gridNums.y\n    );\n\n    vec2 factorIndex = vec2(\n      mod(vParticleIndex, gridNums.x),\n      floor(vParticleIndex / gridNums.x)\n    );\n\n    vec4 color = texture2D(map, vec2(0.0, 1.0) + vec2(1.0, -1.0) * (vUv + factorIndex) * unit);\n    \n    if (color.a == 0.0) {\n      discard;\n    }\n    \n    gl_FragColor = vec4(color);\n      \n  }\n`\n\nexport {\n  vertexLabel,\n  fragmentLabel\n}\n","\nexport const wrapText = function (ctx, text, maxWidth) {\n  let lines = []\n  let words = text\n    .replace(/\\n\\n/g, ' ` ')\n    .replace(/(\\n\\s|\\s\\n)/g, '\\r')\n    .replace(/\\s\\s/g, ' ')\n    .replace('`', ' ')\n    .replace(/(\\r|\\n)/g, ' ' + ' ')\n    .split(' ')\n  const space = ctx.measureText(' ').width\n  const len = words.length\n  let width = 0\n  let line = ''\n  let word = ''\n  let w = 0\n  let i = 0\n  for (i = 0; i < len; i += 1) {\n    word = words[i]\n    w = word ? ctx.measureText(word).width : 0\n    if (w) {\n      width = width + space + w\n    }\n    if (w > maxWidth) {\n      const wordChunks = []\n      const maxNumLetters = 10\n      const numChunks = Math.ceil(word.length / maxNumLetters)\n      for (let i = 0; i < numChunks; i+=1) {\n        const chunk = word.substr(i * maxNumLetters, maxNumLetters) + (i < numChunks-1 ? '-' : '')\n        wordChunks.push(chunk)\n      }\n      return wordChunks\n    } else if (w && width < maxWidth) {\n      line += (i ? ' ' : '') + word\n    } else {\n      !i || lines.push(line !== '' ? line.trim() : '')\n      line = word\n      width = w\n    }\n  }\n  if (len !== i || line !== '') {\n    lines.push(line)\n  }\n  return lines\n}\n","import * as THREE from 'three'\nimport {vertexLabel, fragmentLabel} from './shader-label'\nimport {wrapText} from './../utils/wrapText'\n\nCanvasRenderingContext2D.prototype.roundRect = function roundRect(x, y, width, height, radius) {\n  this.moveTo(x + radius, y);\n  this.lineTo(x + width - radius, y);\n  this.quadraticCurveTo(x + width, y, x + width, y + radius);\n  this.lineTo(x + width, y + height - radius);\n  this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n  this.lineTo(x + radius, y + height);\n  this.quadraticCurveTo(x, y + height, x, y + height - radius);\n  this.lineTo(x, y + radius);\n  this.quadraticCurveTo(x, y, x + radius, y);  \n}\n\nexport default class LayerLabels {\n\n  static BEHAVIOR_AUTO_TOGGLE = 'BEHAVIOR_AUTO_TOGGLE'\n  static BEHAVIOR_CLICK_TO_TOGGLE = 'BEHAVIOR_CLICK_TO_TOGGLE'\n  \n  constructor (parentScope, nodesData, externalSettings) {\n    this.parentScope = parentScope\n\n    this.nodesData = nodesData\n    this.nodeIndexToLabelIndex = new Int32Array(nodesData.length).fill(-1)\n\n    this.settings = {}\n    this.settings.sizePOT = 2048\n    this.settings.numCols = 10\n    this.settings.numRows = 30\n    // this.settings.sizePOT = 1024\n    // this.settings.numCols = 5\n    // this.settings.numRows = 14\n    // this.settings.sizePOT = 512\n    // this.settings.numCols = 3\n    // this.settings.numRows = 7\n    this.settings.tilesCount = this.settings.numCols * this.settings.numRows\n    this.settings.tileWidth = this.settings.sizePOT / this.settings.numCols\n    this.settings.tileHeight = this.settings.sizePOT / this.settings.numRows\n    this.settings.tileWidthHalf = this.settings.tileWidth / 2\n    this.settings.tileHeightHalf = this.settings.tileHeight / 2\n    \n    // external settings\n    this.settings.fontScale = externalSettings.fontScale\n    this.settings.visibilityThreshold = externalSettings.visibilityThreshold\n    this.settings.textColor = externalSettings.textColor\n    this.settings.textOpacity = externalSettings.textOpacity\n    this.settings.backgroundColor = externalSettings.backgroundColor\n    this.settings.backgroundOpacity = externalSettings.backgroundOpacity\n    \n    this.settings.fontSize = 20\n    this.settings.lineHeight = 16\n    this.settings.safePadding = 16\n    this.settings.lineHeightSizeDiff = (this.settings.fontSize - this.settings.lineHeight) / 2\n\n    // this.settings.needsLabelRotation = this.settings.tilesCount < this.nodesData.length\n    \n    this.nodeIndexPointer = 0\n    this.labelIndexPointer = 0\n\n    // eslint-disable-next-line\n    console.log(`[LayerLabels] ${this.settings.tilesCount} labels supported`, {settings: this.settings})\n\n    // set initial behavior based on options\n    this.behavior = externalSettings.isEnabled ? LayerLabels.BEHAVIOR_AUTO_TOGGLE : LayerLabels.BEHAVIOR_CLICK_TO_TOGGLE\n\n    // create a canvas that will \n    this.canvas = document.createElement('canvas')\n    this.canvas.width = this.settings.sizePOT\n    this.canvas.height = this.settings.sizePOT\n    this.context2D = this.canvas.getContext('2d')\n    \n    // this array will carry the labels to be displayed when running in 'click to toggle' behavior\n    this.enabledLabels = []\n\n    // create a smaller buffer to draw a masked label\n    this.maskCanvas = document.createElement('canvas')\n    this.maskCanvas.width = this.settings.tileWidth\n    this.maskCanvas.height = this.settings.tileHeight\n    this.maskContext2D = this.maskCanvas.getContext('2d')\n    this.maskContext2D.font = `${this.settings.fontSize}px Verdana, Arial, sans-serif`\n    this.maskContext2D.textAlign = 'center'\n    this.maskContext2D.textBaseline = 'middle'\n    if (window.debugMode) {\n      document.body.appendChild(this.canvas)\n      this.canvas.style.position = 'fixed'\n      this.canvas.style.top = 0\n      this.canvas.style.background = 'hotpink'\n      this.canvas.style.transform = 'scale(0.6)'\n      this.canvas.style.transformOrigin = '0 0'\n    }\n\n    this.uniformsData = {\n      time: { value: 1.0 },\n      scale: { value: 400.0 },\n      isPicking: { value: 0.0 },\n      map: { value: null },\n      gridNums: new THREE.Uniform(new THREE.Vector2(this.settings.numCols, this.settings.numRows)),\n      cameraOffset: new THREE.Uniform(new THREE.Vector2(0, 0))\n    },\n\n    this.attributesData = {\n      offsets: [],\n      indexes: []\n    }\n\n    this.texture = new THREE.CanvasTexture(this.canvas)\n    // this.texture.wrapS = THREE.RepeatWrapping\n    // this.texture.wrapT = THREE.RepeatWrapping\n    this.uniformsData.map.value = this.texture\n\n    for (let i = 0, l = this.settings.tilesCount; i < l; i++) {\n      this.attributesData.offsets.push(\n        0, 0, 2 // z-index\n      )\n      this.attributesData.indexes.push(i)\n    }\n      \n    this.geometry = new THREE.InstancedBufferGeometry()\n    this.geometry.copy(new THREE.PlaneBufferGeometry(1, this.settings.numCols / this.settings.numRows, 1, 1))\n    this.geometry.addAttribute('offset', new THREE.InstancedBufferAttribute(new Float32Array(this.attributesData.offsets), 3))\n    this.geometry.addAttribute('particleIndex', new THREE.InstancedBufferAttribute(new Float32Array(this.attributesData.indexes), 1))\n\n    this.material = new THREE.RawShaderMaterial( {\n      uniforms: this.uniformsData,\n      vertexShader: vertexLabel,\n      fragmentShader: fragmentLabel,\n      side: THREE.FrontSide,\n      transparent: true,\n      alphaTest: 0.1,\n      blending: THREE.NormalBlending\n    })\n\n    this.mesh = new THREE.Mesh(this.geometry, this.material)\n\n    this.isOccupied = Array(this.settings.tilesCount)\n    this.isOccupied.fill(false)\n\n    this.redrawLabels()\n  }\n\n  redrawLabels () {\n    if (this.behavior == LayerLabels.BEHAVIOR_AUTO_TOGGLE) {\n      this.redrawAutoLabels()\n    } else if (this.behavior == LayerLabels.BEHAVIOR_CLICK_TO_TOGGLE) {\n      this.drawEnabledLabels()\n    }\n  }\n\n  toggleEnabledLabelAtNodeIndex (nodeIndex) {\n    if (this.behavior != LayerLabels.BEHAVIOR_CLICK_TO_TOGGLE) {\n      return\n    }\n    const arrayIndex = this.enabledLabels.indexOf(nodeIndex)\n    if (arrayIndex == -1) {\n      this.enabledLabels.push(nodeIndex)\n    } else {\n      this.enabledLabels.splice(arrayIndex, 1)\n    }\n    this.drawEnabledLabels()\n  }\n\n  setBehavior (behavior) {\n    this.behavior = behavior\n    // empty the enabled layers references\n    this.enabledLabels.length = 0\n    if (this.behavior == LayerLabels.BEHAVIOR_CLICK_TO_TOGGLE) {\n      this.drawEnabledLabels()\n    } else {\n      this.redrawAutoLabels()\n    }\n  }\n\n  drawEnabledLabels () {\n    // Draw initial labels\n    this.context2D.clearRect(0, 0, this.settings.sizePOT, this.settings.sizePOT)\n    // clear first\n    this.context2D.clearRect(0, 0, this.settings.sizePOT, this.settings.sizePOT)\n    // then draw the enabled labels\n    for (let i = 0, l = Math.min(this.enabledLabels.length, this.settings.tilesCount); i < l; i++) {\n      this.stampTextAt(this.enabledLabels[i], i)\n    }\n    this.texture.needsUpdate = true\n  }\n\n  redrawAutoLabels () {\n    this.nodeIndexPointer = 0\n    this.labelIndexPointer = 0\n    // clear first\n    this.context2D.clearRect(0, 0, this.settings.sizePOT, this.settings.sizePOT)\n    // then draw the initial labels\n    for (let i = 0, l = this.nodeIndexToLabelIndex.length; i < l; i += 1) {\n      this.nodeIndexToLabelIndex[i] = -1\n    }\n    this.texture.needsUpdate = true\n  }\n\n  setNodePositionAtLabelIndex (labelIndex, x, y) {\n    const labels = this.geometry.attributes.offset.array\n    const i3 = labelIndex * 3\n    labels[i3 + 0] = x\n    labels[i3 + 1] = y //- 50\n    this.geometry.attributes.offset.needsUpdate = true\n  }\n\n  rotateLabels () {\n\n    let runs = 0\n\n    while (runs <  200) {\n      \n      this.nodeIndexPointer = (this.nodeIndexPointer + 1) % this.nodesData.length\n      let x = this.parentScope.nodes.targetPositions.x[this.nodeIndexPointer]\n      let y = this.parentScope.nodes.targetPositions.y[this.nodeIndexPointer]\n      x += this.parentScope.cameraOffset.x\n      y += this.parentScope.cameraOffset.y\n      \n      \n      const {left, right, top, bottom, zoom} = this.parentScope.camera\n      if (\n        x > left / zoom \n        &&\n        x < right / zoom\n        &&\n        y > bottom / zoom\n        &&\n        y < top / zoom\n        &&\n        this.nodeIndexToLabelIndex[this.nodeIndexPointer] == -1\n      ) {\n        // the node is inside viewport and has no label yet\n        let innerRuns = 0\n        while (innerRuns < 200) {\n          this.labelIndexPointer = (this.labelIndexPointer + 1) % Math.min(this.nodesData.length, this.settings.tilesCount)\n          if (!this.isOccupied[this.labelIndexPointer]) {\n            this.stampTextAt(this.nodeIndexPointer, this.labelIndexPointer)\n            this.texture.needsUpdate = true\n            this.isOccupied[this.labelIndexPointer] = true\n            break\n          } else {\n            this.isOccupied[this.labelIndexPointer] = false\n          }\n        }\n        innerRuns += 1\n      }\n      runs += 1\n    }\n\n  }\n\n  stampTextAt (nodeIndex, labelIndex) {\n    // need to deselect the previous reference\n    for (let i = 0, l = this.nodeIndexToLabelIndex.length; i < l; i += 1) {\n      if (this.nodeIndexToLabelIndex[i] == labelIndex) {\n        this.nodeIndexToLabelIndex[i] = -1\n        break\n      }\n    }\n    // then set the new reference\n    this.nodeIndexToLabelIndex[nodeIndex] = labelIndex\n\n    // project index to 2d texture map\n    const x = labelIndex % this.settings.numCols * this.settings.tileWidth\n    const y = Math.floor(labelIndex / this.settings.numCols) * this.settings.tileHeight\n   \n    // Get the text and split it to lines\n    const text = this.nodesData[nodeIndex].name\n\n    const lines = wrapText(this.maskContext2D, text, this.settings.tileWidth - this.settings.safePadding)\n\n    // support max of 4 lines\n    if (lines.length > 4) {\n      lines.length = 4\n      lines[3] += '...'\n    }\n\n    // clear previous stamps\n    this.maskContext2D.clearRect(0, 0, this.settings.tileWidth, this.settings.tileHeight)\n    this.context2D.clearRect(x, y, this.settings.tileWidth, this.settings.tileHeight)\n\n    // draw the background of label\n    this.maskContext2D.fillStyle = this.settings.backgroundColor\n    this.maskContext2D.globalAlpha = this.settings.backgroundOpacity\n    lines.forEach((line, index) => {\n      const localX = this.settings.tileWidthHalf\n      const localY = this.settings.tileHeightHalf + this.settings.lineHeight * index - (this.settings.lineHeight * lines.length)/2 + this.settings.fontSize/2\n      const width = this.maskContext2D.measureText(line).width\n      \n      this.maskContext2D.beginPath()\n      this.maskContext2D.roundRect(localX - width/2 - 2, localY - this.settings.fontSize/2 - 4, width + 4, this.settings.fontSize + 8, 5)\n      this.maskContext2D.closePath()\n      this.maskContext2D.fill()\n\n      this.context2D.drawImage(this.maskCanvas, x, y)\n    })\n\n    // draw the text\n    this.maskContext2D.fillStyle = this.settings.textColor\n    this.maskContext2D.globalAlpha = this.settings.textOpacity\n    lines.forEach((line, index) => {\n      const localX = this.settings.tileWidthHalf\n      const localY = this.settings.tileHeightHalf + this.settings.lineHeight * index - (this.settings.lineHeight * lines.length)/2 + this.settings.fontSize/2 + this.settings.lineHeightSizeDiff\n      \n      this.maskContext2D.fillText(line, localX, localY - 1)\n    \n    })\n    this.maskContext2D.globalAlpha = 1\n    // remove 1 pixel above and below to get rid of artifacts caused by antialiasing/mipmaps\n    this.maskContext2D.clearRect(x, y, this.settings.tileWidth, 1)\n    this.maskContext2D.clearRect(x, y + this.settings.tileHeight - 1, this.settings.tileWidth, 1)\n    this.context2D.drawImage(this.maskCanvas, x, y)\n  }\n\n  update (elapsedTime, delta, cameraZoom) {\n    if (this.behavior == LayerLabels.BEHAVIOR_CLICK_TO_TOGGLE) {\n      // nothing to do\n      this.material.uniforms.scale.value = 1500 / cameraZoom * this.settings.fontScale\n    } else if (this.behavior == LayerLabels.BEHAVIOR_AUTO_TOGGLE) {\n      if (cameraZoom < this.settings.visibilityThreshold) {\n        this.material.uniforms.scale.value = 0\n      } else {\n        this.material.uniforms.scale.value = 1500 / cameraZoom * this.settings.fontScale\n        this.rotateLabels()\n      }\n    }\n  }\n}\n","// Simulation\n\nexport const SIMULATION_ALPHA_DECAY = 'SIMULATION_ALPHA_DECAY'\n\nexport const SIMULATION_RESTART = 'SIMULATION_RESTART'\nexport const SIMULATION_HAS_RESTARTED = 'SIMULATION_HAS_RESTARTED'\n\n// export const SIMULATION_IS_RUNNING = 'SIMULATION_IS_RUNNING'\nexport const SIMULATION_COLLISION_STRENGTH = 'SIMULATION_COLLISION_STRENGTH'\nexport const SIMULATION_COLLISION_RADIUS = 'SIMULATION_COLLISION_RADIUS'\n\nexport const SIMULATION_LINKS_DISTANCE = 'SIMULATION_LINKS_DISTANCE'\nexport const SIMULATION_LINKS_STRENGTH = 'SIMULATION_LINKS_STRENGTH'\n\nexport const SIMULATION_CHARGE_STRENGTH = 'SIMULATION_CHARGE_STRENGTH'\n// export const SIMULATION_CHARGE_DISTANCE = 'SIMULATION_CHARGE_DISTANCE'\nexport const SIMULATION_CHARGE_DISTANCE_MIN = 'SIMULATION_CHARGE_DISTANCE_MIN'\nexport const SIMULATION_CHARGE_DISTANCE_MAX = 'SIMULATION_CHARGE_DISTANCE_MAX'\n\nexport const SIMULATION_FORCE_X_STRENGTH = 'SIMULATION_FORCE_X_STRENGTH'\nexport const SIMULATION_FORCE_Y_STRENGTH = 'SIMULATION_FORCE_Y_STRENGTH'\n\nexport const SIMULATION_SET_NUM_VISIBLE_NODES = 'SIMULATION_SET_NUM_VISIBLE_NODES'\n\n// Labels\n\nexport const LABELS_SET_ACTIVE = 'LABELS_SET_ACTIVE'\nexport const LABELS_SET_FONT_SCALE = 'LABELS_SET_FONT_SCALE'\nexport const LABELS_SET_VISIBILITY_THRESHOLD = 'LABELS_SET_VISIBILITY_THRESHOLD'\nexport const LABELS_SET_TEXT_COLOR = 'LABELS_SET_TEXT_COLOR'\nexport const LABELS_SET_TEXT_OPACITY = 'LABELS_SET_TEXT_OPACITY'\nexport const LABELS_SET_BACKGROUND_COLOR = 'LABELS_SET_BACKGROUND_COLOR'\nexport const LABELS_SET_BACKGROUND_OPACITY = 'LABELS_SET_BACKGROUND_OPACITY'\n\n// Renderer\n\nexport const GLOBALS_SET_BACKGROUND_COLOR = 'GLOBALS_SET_BACKGROUND_COLOR'\nexport const GLOBALS_SET_HUE = 'GLOBALS_SET_HUE'\nexport const GLOBALS_SET_CONTRAST = 'GLOBALS_SET_CONTRAST'\nexport const GLOBALS_SET_GRAYSCALE = 'GLOBALS_SET_GRAYSCALE'\n\nexport const NODES_USE_TWO_COLORS = 'NODES_USE_TWO_COLORS'\n// export const NODES_MERGE_COLUMNS = 'NODES_MERGE_COLUMNS'\nexport const NODES_SET_COLOR_1 = 'NODES_SET_COLOR_1'\nexport const NODES_SET_COLOR_2 = 'NODES_SET_COLOR_2'\nexport const NODES_SET_FACTOR_CONTROLLER = 'NODES_SET_FACTOR_CONTROLLER' // 'none' 'num-links' 'column letter'\nexport const NODES_SET_MINIMUM_OPACITY = 'NODES_SET_MINIMUM_OPACITY'\nexport const NODES_SET_WEIGHTED_OPACITY = 'NODES_SET_WEIGHTED_OPACITY'\nexport const NODES_SET_MINIMUM_SCALE = 'NODES_SET_MINIMUM_SCALE'\nexport const NODES_SET_WEIGHTED_SCALE = 'NODES_SET_WEIGHTED_SCALE'\n\nexport const LINKS_SET_COLOR = 'LINKS_SET_COLOR'\nexport const LINKS_SET_FACTOR_CONTROLLER = 'LINKS_SET_FACTOR_CONTROLLER'\nexport const LINKS_SET_MINIMUM_OPACITY = 'LINKS_SET_MINIMUM_OPACITY'\nexport const LINKS_SET_WEIGHTED_OPACITY = 'LINKS_SET_WEIGHTED_OPACITY'\nexport const LINKS_SET_MINIMUM_SCALE = 'LINKS_SET_MINIMUM_SCALE'\nexport const LINKS_SET_WEIGHTED_SCALE = 'LINKS_SET_WEIGHTED_SCALE'\n\nexport const CAPTION_IS_ENABLED = 'CAPTION_IS_ENABLED'\nexport const CAPTION_TEXT_COLOR = 'CAPTION_TEXT_COLOR'\nexport const CAPTION_TEXT_SIZE = 'CAPTION_TEXT_SIZE'\nexport const CAPTION_BACKGROUND_COLOR = 'CAPTION_BACKGROUND_COLOR'\nexport const CAPTION_BACKGROUND_OPACITY = 'CAPTION_BACKGROUND_OPACITY'\nexport const CAPTION_BORDER_COLOR = 'CAPTION_BORDER_COLOR'\nexport const CAPTION_BORDER_OPACITY = 'CAPTION_BORDER_OPACITY'\nexport const CAPTION_BORDER_SIZE = 'CAPTION_BORDER_SIZE'","import uuid from 'uuid'\n\nconst QUERY_TYPE_REGEX = 'query-type-regex'\nconst QUERY_TYPE_NUMERIC = 'query-type-numeric'\n\nexport default class Group {\n  \n  static QUERY_TYPE_REGEX = QUERY_TYPE_REGEX\n  static QUERY_TYPE_NUMERIC = QUERY_TYPE_NUMERIC\n  \n  constructor () {\n    this.id = uuid.v4()\n    this.visible = true\n    this.name = ''\n    this.color = '#' + Math.floor((Math.random()*0xAAAAAA) + 0x555555).toString(16)\n    this.caseSensitive = false\n    this.queryType = Group.QUERY_TYPE_REGEX\n    this.queryString = ''\n  }\n}","import * as THREE from 'three'\nimport {vertex, fragment} from './shader-node'\nimport {vertexBar, fragmentBar} from './shader-link'\n// import Stats from './Stats'\n// import {lerp} from './../utils/lerp'\nimport SimulationWorker from 'worker-loader!./simulation-worker.js'\nimport LayerLabels from './LayerLabels'\nimport * as controlTypes from './../constants/control-types'\nimport Group from './../vo/Group'\nconst mockData = require('./../../data/merged-dataset.json')\nconst RADIUS = 60\nconst SAFE_WIDTH = 10000\nconst SAFE_HEIGHT = 10000\n\nconst resolvePart = (value, comparator, sampleValue) => {\n  value = parseFloat(value)\n  sampleValue = parseFloat(sampleValue)\n  if (comparator) {\n    if (comparator == '>') {\n      return value > sampleValue\n    } else if (comparator == '>=') {\n      return value >= sampleValue\n    } else if (comparator == '<') {\n      return value < sampleValue\n    } else if (comparator == '<=') {\n      return value <= sampleValue\n    } else if (comparator == '==') {\n      return value == sampleValue\n    } else {\n      return false\n    }\n  } else {\n    return false\n  }\n}\n\n// import store from \nexport default class Graphics {\n\n  static SAFE_WIDTH = SAFE_WIDTH\n  static SAFE_HEIGHT = SAFE_HEIGHT\n  \n  constructor (container, canvas, settings, nodesData, linksData, linksColumns, linksNormalizedColumns) {\n\n    this.container = container\n    this.canvas = canvas\n    this.settings = settings\n    // clock manager\n    this.clock = new THREE.Clock(true)\n    // loop callback reference\n    this.animationCallback = null\n    // time counter\n    this.time = 0\n\n    // // this.stats = new Stats()\n    // this.stats.showPanel(0) // 0: fps, 1: ms, 2: mb, 3+: custom\n    // // this.stats.dom.className = 'stats-dom'\n    // document.querySelector('.app').appendChild(this.stats.dom)\n\n    const {width, height} = this.container.getBoundingClientRect()\n    this.width = width\n    this.height = height\n    // resize canvas to fill container space\n    this.canvas.width = width\n    this.canvas.height = height\n\n    // Three elements\n    this.renderer = new THREE.WebGLRenderer({\n      canvas: canvas,\n      context: canvas.getContext('webgl2'), // request WebGL2\n      antialias: true,\n      alpha: true\n    })\n    // this.renderer.encoding = THREE.sRGBEncoding;\n    this.renderer.setPixelRatio(window.devicePixelRatio )\n    this.renderer.setSize(this.width, this.height)\n    this.renderer.setClearColor(this.settings.globals.backgroundColor , 1)\n    \n    this.scene = new THREE.Scene()\n    \n    this.camera = new THREE.OrthographicCamera(\n      -1, \n      1,\n      1, \n      -1, \n      -1000,\n      10000)\n    this.camera.position.z = 100\n    this.camera.zoom = 0.8\n    this.scene.add(this.camera)\n    this.camera.previousZoom = this.camera.zoom\n    this.cameraOffset = {\n      x: 0,\n      y: -600\n    }\n\n    this.mouse = {\n      target: -1,\n      isDown: false,\n      position: {\n        current: {\n          ratioX: 0.5,\n          ratioY: 0.5,\n          projectedX: this.canvas.width / 2,\n          projectedY: this.canvas.height / 2,\n        },\n        previous: {\n          ratioX: 0.5,\n          ratioY: 0.5,\n          projectedX: this.canvas.width / 2,\n          projectedY: this.canvas.height / 2,\n        }\n      }\n    }\n\n    // we use this texture to map mouse/touch events positions to mesh instance \n    this.pickingRenderTarget = new THREE.WebGLRenderTarget(this.width, this.height)\n    this.pixelBuffer = new Uint8Array(4)\n\n\n    this.linksColumns = linksColumns\n    this.linksNormalizedColumns = linksNormalizedColumns\n\n    // NODES\n\n    this.nodes = {\n      data: nodesData,\n      count: nodesData.length,\n      indexes: [],\n      types: [],\n      offsets: [],\n      groups: [],\n      mouseTags: [],\n      weights: [],\n      geometry: null,\n      material: null,\n      mesh: null,\n      uniforms: {\n        time: { value: 1.0 },\n        useTwoColors: { value: 0.0 },\n        isPicking: { value: 0.0 },\n        minimumOpacity: { value: this.settings.nodes.minimumOpacity },\n        weightedOpacity: { value: this.settings.nodes.weightedOpacity },\n        minimumScale: { value: this.settings.nodes.minimumScale },\n        weightedScale: { value: this.settings.nodes.weightedScale },\n        baseColor1: new THREE.Uniform(new THREE.Color(this.settings.nodes.color1)),\n        baseColor2: new THREE.Uniform(new THREE.Color(this.settings.nodes.color2)),\n        groupColor1: new THREE.Uniform(new THREE.Color(0x000000)),\n        groupColor2: new THREE.Uniform(new THREE.Color(0x000000)),\n        groupColor3: new THREE.Uniform(new THREE.Color(0x000000)),\n        groupColor4: new THREE.Uniform(new THREE.Color(0x000000)),\n        cameraOffset: new THREE.Uniform(new THREE.Vector2(this.cameraOffset.x, this.cameraOffset.y))\n      },\n      targetPositions: {\n        x: new Float32Array(nodesData.length),\n        y: new Float32Array(nodesData.length)\n      }\n    }\n\n    \n    for (let i = 0; i < this.nodes.count; i++) {\n      this.nodes.offsets.push(0, 0, 1)\n      this.nodes.indexes.push(i)\n      this.nodes.mouseTags.push(\n        ( (i+1) >> 16 & 255 ) / 255,\n        ( (i+1) >> 8 & 255 ) / 255,\n        ( (i+1) >> 0 & 255 ) / 255,\n        1\n      )\n      this.nodes.groups.push(\n        0,0,0,0\n      )\n      /*\n      const NODE_TYPE_A = 1\n      const NODE_TYPE_B = 2\n      const NODE_TYPE_MIX = 3\n      */\n      this.nodes.types.push(this.nodes.data[i].type)\n      this.nodes.weights.push(1)\n    }\n      \n    this.nodes.geometry = new THREE.InstancedBufferGeometry()\n    this.nodes.geometry.copy(new THREE.PlaneBufferGeometry(1, 1, 1, 1))\n  \n    this.nodes.geometry.addAttribute('offset', new THREE.InstancedBufferAttribute(new Float32Array(this.nodes.offsets), 3))\n    this.nodes.geometry.addAttribute('type', new THREE.InstancedBufferAttribute(new Float32Array(this.nodes.types), 1))\n    this.nodes.geometry.addAttribute('particleIndex', new THREE.InstancedBufferAttribute(new Float32Array(this.nodes.indexes), 1))\n    this.nodes.geometry.addAttribute('groups', new THREE.InstancedBufferAttribute(new Float32Array(this.nodes.groups), 4))\n    this.nodes.geometry.addAttribute('mouseTag', new THREE.InstancedBufferAttribute(new Float32Array(this.nodes.mouseTags), 4))\n    this.nodes.geometry.addAttribute('weight', new THREE.InstancedBufferAttribute(new Float32Array(this.nodes.weights), 1))\n\n    this.nodes.material = new THREE.RawShaderMaterial( {\n      uniforms: this.nodes.uniforms,\n      vertexShader: vertex,\n      fragmentShader: fragment,\n      side: THREE.FrontSide,\n      transparent: true,\n      alphaTest: 0.1,\n      // depthWrite: true,\n      blending: THREE.NormalBlending\n      // blending: THREE.MultiplyBlending\n      // blending: THREE.AdditiveBlending\n    })\n    \n    this.nodes.mesh = new THREE.Mesh(this.nodes.geometry, this.nodes.material)\n    this.scene.add(this.nodes.mesh)\n    // this.nodes.mesh.position.z = -1\n\n    // LINKS\n\n    this.links = {\n      data: linksData,\n      count: linksData.length,\n      indexes: [],\n      scales: [],\n      offsets: [],\n      weights: [],\n      orientations: [],\n      geometry: null,\n      material: null,\n      mesh: null,\n      uniforms: {\n        time: { value: 1.0 },\n        opacity: { value: this.settings.links.minimumOpacity + this.settings.links.weightedOpacity},\n        isPicking: { value: 0.0 },\n        minimumOpacity: { value: this.settings.links.minimumOpacity },\n        weightedOpacity: { value: this.settings.links.weightedOpacity },\n        minimumScale: { value: this.settings.links.minimumScale },\n        weightedScale: { value: this.settings.links.weightedScale },\n        baseColor: new THREE.Uniform(new THREE.Color(this.settings.links.color)),\n        cameraOffset: new THREE.Uniform(new THREE.Vector2(this.cameraOffset.x, this.cameraOffset.y))\n      },\n      targetPositions: {\n        x: new Float32Array(linksData.length),\n        y: new Float32Array(linksData.length)\n      },\n      // targetAngle: new Float32Array(numLinks),\n      quaternion: new THREE.Quaternion()\n    }\n\n    for (let i = 0; i < this.links.count; i++) {\n      this.links.offsets.push(0, 0, 0)\n      this.links.scales.push(1, RADIUS / 3)\n      this.links.indexes.push(i)\n      this.links.orientations.push(0,0,0,0)\n      this.links.weights.push(1)\n    }\n      \n    this.links.geometry = new THREE.InstancedBufferGeometry()\n    this.links.geometry.copy(new THREE.PlaneBufferGeometry(\n      1,\n      1,\n      1, 1\n    ))\n\n    this.links.geometry.addAttribute('offset', new THREE.InstancedBufferAttribute(new Float32Array(this.links.offsets), 3))\n    this.links.geometry.addAttribute('scale', new THREE.InstancedBufferAttribute(new Float32Array(this.links.scales), 2))\n    this.links.geometry.addAttribute('particleIndex', new THREE.InstancedBufferAttribute(new Float32Array(this.links.indexes), 1))\n    this.links.geometry.addAttribute('weight', new THREE.InstancedBufferAttribute(new Float32Array(this.links.weights), 1))\n\n    const orientationAttribute = new THREE.InstancedBufferAttribute(new Float32Array(this.links.orientations), 4)\n    this.links.geometry.addAttribute('orientation', orientationAttribute)\n    \n    this.links.material = new THREE.RawShaderMaterial( {\n      uniforms: this.links.uniforms,\n      vertexShader: vertexBar,\n      fragmentShader: fragmentBar,\n      side: THREE.FrontSide,\n      transparent: true,\n      alphaTest: 0.01,\n      // depthWrite: false,\n      blending: THREE.NormalBlending\n      // blending: THREE.AdditiveBlending\n    })\n\n    this.links.mesh = new THREE.Mesh(this.links.geometry, this.links.material)\n    this.scene.add(this.links.mesh)\n    // this.links.mesh.position.z = -2\n\n\n    // LABELS\n    this.labels = new LayerLabels(this, this.nodes.data, this.settings.labels)\n    this.scene.add(this.labels.mesh)\n\n\n    // SIMULATION WORKER\n    this.worker = new SimulationWorker()\n    this.worker.postMessage({\n      command: 'initialize', \n      nodes: nodesData,\n      links: linksData,\n      settings: this.settings.simulation,\n      countries: mockData.countries\n    })\n\n    this.worker.onmessage = message => {\n      const {command} = message.data\n      switch (command) {\n        case 'update-simulation-results' :\n          for (let i = 0, l = this.nodes.count; i < l; i += 1) {\n            this.setNodeTargetPositionAtIndex(i, message.data.valuesX[i], message.data.valuesY[i])\n          }\n          if (message.data.skipTransition) {\n            const nodePositions = this.nodes.geometry.attributes.offset.array\n            for (let i = 0, l = this.nodes.count; i < l; i += 1) {\n              const i3 = i * 3\n              nodePositions[i3 + 0] = this.nodes.targetPositions.x[i]\n              nodePositions[i3 + 1] = this.nodes.targetPositions.y[i]\n            }\n            this.nodes.geometry.attributes.offset.needsUpdate = true\n          }\n\n        break\n\n        case 'simulation-is-idle' :\n         \n        break\n      }\n    }\n\n    // eslint-disable-next-line\n    console.log('[Graphics]', this.nodes)\n\n    this.addListeners()\n    this.handleResize()\n    this.simulationIsRunning = true\n    this.updateNodesWeightedScales()\n    this.updateLinksWeightedScales()\n    this.loop()\n  }\n\n  refreshGroups (groups) {\n    \n    // update the 4 colors uniform\n    groups.forEach((group, index) => {\n      this.nodes.material.uniforms['groupColor' + (index + 1)].value = new THREE.Color(group.color)\n    })\n    \n    // math any node with query selector\n    const groupsAttribute = this.nodes.geometry.attributes.groups.array\n\n    this.nodes.data.forEach((node, nodeIndex) => {\n      // const i4 = nodeIndex * 4\n      const i4 = nodeIndex * 4\n      for (let i = 0; i < 4; i += 1) {\n        if (i < groups.length && groups[i].queryString.trim() != '') {\n          const group = groups[i]\n          if (group.visible) {\n            if (group.queryType == Group.QUERY_TYPE_REGEX) {\n              const q = group.caseSensitive ? group.queryString : group.queryString.toLowerCase()\n              const s = group.caseSensitive ? node.name : node.name.toLowerCase()\n              groupsAttribute[i4 + i] = RegExp(q).test(s) ? 1 : 0\n            } else if (group.queryType == Group.QUERY_TYPE_NUMERIC) {\n              // const allowedComparators = ['<', '<=', '==', '>=', '>']\n              // const allowedOperators = ['and', 'or']\n              // const allowedColumnsLetters = 'abcdefghijklmnopqrstuvwxyz'.split()\n              const [\n                columnLetter1, comparator1, sampleValue1,\n                operator,\n                columnLetter2, comparator2, sampleValue2\n              ] = group.queryString.split(' ').map(e => e.trim().toLowerCase())\n              \n              let isMatch = false\n\n              if (operator == 'and') {\n                // handle multipart\n                isMatch = resolvePart(this.linksColumns[columnLetter1][nodeIndex], comparator1, sampleValue1) && resolvePart(this.linksColumns[columnLetter2][nodeIndex], comparator2, sampleValue2)\n              } else if (operator == 'or') {\n                // handle multipart\n                isMatch = resolvePart(this.linksColumns[columnLetter1][nodeIndex], comparator1, sampleValue1) || resolvePart(this.linksColumns[columnLetter2][nodeIndex], comparator2, sampleValue2)\n              } else {\n                // handle singlepart\n                isMatch = resolvePart(this.linksColumns[columnLetter1][nodeIndex], comparator1, sampleValue1)\n              }\n              groupsAttribute[i4 + i] = isMatch ? 1 : 0\n            } else {\n              groupsAttribute[i4 + i] = 0\n            }\n          } else {\n            groupsAttribute[i4 + i] = 0\n          }\n        } else {\n          groupsAttribute[i4 + i] = 0\n        }\n      }\n    })\n    this.nodes.geometry.attributes.groups.needsUpdate = true\n\n  }\n\n  restart () {\n    this.simulationIsRunning = true\n    this.worker.postMessage({command: 'update-simulation-setting', name: controlTypes.SIMULATION_RESTART})\n    \n  }\n\n  updateSettingByName (name, value) {\n    switch (name) {\n      // case controlTypes.SIMULATION_IS_RUNNING :\n      //   this.simulationIsRunning = value\n      //   this.worker.postMessage({command: 'update-simulation-setting', name, value})\n      //   break\n\n      // case controlTypes.SIMULATION_HAS_RESTARTED :\n      // case controlTypes.SIMULATION_RESTART :\n      //   this.simulationIsRunning = true\n      //   this.worker.postMessage({command: 'update-simulation-setting', name})\n      //   break\n\n      case controlTypes.SIMULATION_ALPHA_DECAY :\n        this.settings.simulation.alphaDecay = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_LINKS_STRENGTH :\n        this.settings.simulation.links.strength = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n        \n      case controlTypes.SIMULATION_LINKS_DISTANCE :\n        this.settings.simulation.links.distance = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_CHARGE_STRENGTH :\n        this.settings.simulation.charge.strength = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_CHARGE_DISTANCE_MIN :\n        this.settings.simulation.charge.distanceMin = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_CHARGE_DISTANCE_MAX :\n        this.settings.simulation.charge.distanceMax = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_COLLISION_STRENGTH :\n        this.settings.simulation.collision.strength = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_COLLISION_RADIUS :\n        this.settings.simulation.collision.radius = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_FORCE_X_STRENGTH :\n        this.settings.simulation.forceX.strength = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n\n      case controlTypes.SIMULATION_FORCE_Y_STRENGTH :\n        this.settings.simulation.forceY.strength = value\n        this.worker.postMessage({command: 'update-simulation-setting', name, value})\n        break\n      \n      // GLOBALS\n      \n      case controlTypes.GLOBALS_SET_BACKGROUND_COLOR :\n        this.settings.globals.backgroundColor = value\n        this.renderer.setClearColor(this.settings.globals.backgroundColor , 1)\n        break\n      \n      // NODES\n\n      case controlTypes.NODES_USE_TWO_COLORS :\n        this.settings.nodes.useTwoColors = value\n        this.nodes.mesh.material.uniforms.useTwoColors.value = value ? 1.0 : 0.0\n        break\n\n      // TODO: Look into implementing mergeColumns\n      // case controlTypes.NODES_MERGE_COLUMNS :\n      //   console.warn('TODO: implement nodes column un-merge')\n      //   this.settings.nodes.mergeColumns = value\n      //   break\n      \n      case controlTypes.NODES_SET_COLOR_1 :\n        this.settings.nodes.color1 = value\n        this.nodes.mesh.material.uniforms.baseColor1.value = new THREE.Color(value)\n        break\n      \n      case controlTypes.NODES_SET_COLOR_2 :\n        this.settings.nodes.color2 = value\n        this.nodes.mesh.material.uniforms.baseColor2.value = new THREE.Color(value)\n        break\n\n      case controlTypes.NODES_SET_FACTOR_CONTROLLER :\n        this.settings.nodes.factorController = (value || '').trim().toLowerCase()\n        this.updateNodesWeightedScales()\n        console.log('$$$$$$$$$$$$$$$$$$$$$$$$$')\n        if (Object.keys(this.linksColumns).indexOf(this.settings.renderer.nodes.letterController) > -1\n          && \n          this.settings.renderer.nodes.scaleIsWeighted\n        ) {\n          console.log('?????!!!!!!!!!!!!!!!!!!!!!!!!!?')\n          this.worker.postMessage({command: 'update-nodes-weights', weights: this.linksColumns[this.settings.renderer.nodes.letterController]})\n        } else {\n          console.log('???????????????????????????????')\n          this.worker.postMessage({command: 'update-nodes-weights'})\n        }\n        break\n\n      case controlTypes.NODES_SET_MINIMUM_OPACITY :\n        this.settings.nodes.minimumOpacity = value\n        this.nodes.mesh.material.uniforms.minimumOpacity.value = this.settings.nodes.minimumOpacity\n        break\n      \n      case controlTypes.NODES_SET_WEIGHTED_OPACITY :\n        this.settings.nodes.weightedOpacity = value\n        this.nodes.mesh.material.uniforms.weightedOpacity.value = this.settings.nodes.weightedOpacity\n        break\n   \n      case controlTypes.NODES_SET_MINIMUM_SCALE :\n        this.settings.nodes.minimumScale = value\n        this.nodes.mesh.material.uniforms.minimumScale.value = value\n        break\n\n      case controlTypes.NODES_SET_WEIGHTED_SCALE :\n        this.settings.nodes.weightedScale = value\n        this.nodes.mesh.material.uniforms.weightedScale.value = value\n        break\n\n      // LINKS\n\n      case controlTypes.LINKS_SET_COLOR :\n        this.settings.links.color = value\n        this.links.mesh.material.uniforms.baseColor.value = new THREE.Color(value)\n        break\n\n      case controlTypes.LINKS_SET_FACTOR_CONTROLLER :\n        this.settings.links.factorController = (value || '').trim().toLowerCase()\n        this.updateLinksWeightedScales()\n        if (Object.keys(this.linksNormalizedColumns).indexOf(this.settings.links.factorController) > -1) {\n          this.worker.postMessage({\n            command: 'update-links-weights', \n            weights: this.linksNormalizedColumns[this.settings.links.factorController]\n          })\n        } else {\n          this.worker.postMessage({command: 'update-links-weights'})\n        }\n        break\n      \n        case controlTypes.LINKS_SET_MINIMUM_OPACITY :\n          this.settings.links.minimumOpacity = value\n          this.links.mesh.material.uniforms.minimumOpacity.value = this.settings.links.minimumOpacity\n          break\n        \n        case controlTypes.LINKS_SET_WEIGHTED_OPACITY :\n          this.settings.links.weightedOpacity = value\n          this.links.mesh.material.uniforms.weightedOpacity.value = this.settings.links.weightedOpacity\n          break\n      \n        case controlTypes.LINKS_SET_MINIMUM_SCALE :\n          this.settings.links.minimumScale = value\n          this.links.mesh.material.uniforms.minimumScale.value = value\n          break\n  \n        case controlTypes.LINKS_SET_WEIGHTED_SCALE :\n          this.settings.links.weightedScale = value\n          this.links.mesh.material.uniforms.weightedScale.value = value\n          break\n\n      \n      // LABELS\n      case controlTypes.LABELS_SET_ACTIVE :\n        this.settings.labels.isEnabled = value\n        if (value) {\n          this.labels.setBehavior(LayerLabels.BEHAVIOR_AUTO_TOGGLE)\n        } else {\n          this.labels.setBehavior(LayerLabels.BEHAVIOR_CLICK_TO_TOGGLE)\n        }\n        break\n\n      case controlTypes.LABELS_SET_FONT_SCALE :\n        this.settings.labels.fontScale = value\n        this.labels.settings.fontScale = value\n        break\n\n      case controlTypes.LABELS_SET_VISIBILITY_THRESHOLD :\n        this.settings.labels.visibilityThreshold = value\n        this.labels.settings.visibilityThreshold = value\n        break\n\n      case controlTypes.LABELS_SET_TEXT_COLOR :\n        this.settings.labels.textColor = value\n        this.labels.settings.textColor = value\n        this.labels.redrawLabels()\n        break\n      \n      case controlTypes.LABELS_SET_TEXT_OPACITY :\n        this.settings.labels.textOpacity = value\n        this.labels.settings.textOpacity = value\n        this.labels.redrawLabels()\n        break\n\n      case controlTypes.LABELS_SET_BACKGROUND_COLOR :\n        this.settings.labels.backgroundColor = value\n        this.labels.settings.backgroundColor = value\n        this.labels.redrawLabels()\n        break\n      \n      case controlTypes.LABELS_SET_BACKGROUND_OPACITY :\n        this.settings.labels.backgroundOpacity = value\n        this.labels.settings.backgroundOpacity = value\n        this.labels.redrawLabels()\n        break\n    }\n  }\n  \n  updateNodesWeightedScales () {\n    const {array} = this.nodes.geometry.attributes.weight\n    // if (this.settings.nodes.factorController == 'number-of-links') {\n    //   console.log('??')\n      for (let i = 0, l = this.nodes.count; i < l; i += 1) {\n        array[i] = this.nodes.data[i].linksCount\n      }\n    // } else { // 'none'\n    //   for (let i = 0, l = this.nodes.count; i < l; i += 1) {\n    //     array[i] = 1 // reset opacity to factor 1\n    //   }\n    // }\n    // console.log('updated weights:', array)\n    this.nodes.geometry.attributes.weight.needsUpdate = true\n  }\n\n  updateLinksWeightedScales () {\n    const value = (this.settings.links.factorController || '').trim().toLowerCase()\n    let weights = null\n    const columnIndex = Object.keys(this.linksNormalizedColumns).indexOf(value)\n    const {array} = this.links.geometry.attributes.weight\n    if (columnIndex > -1) {\n      weights = this.linksNormalizedColumns[value]\n      for (let i = 0, l = this.links.count; i < l; i += 1) {\n        array[i] = weights[i]\n      }\n    } else {\n      for (let i = 0, l = this.links.count; i < l; i += 1) {\n        array[i] = 0 // reset to 0 added scale\n      }\n    }\n    this.links.geometry.attributes.weight.needsUpdate = true\n  }\n  \n  setNodeTargetPositionAtIndex(i, x, y) {\n    this.nodes.targetPositions.x[i] = x\n    this.nodes.targetPositions.y[i] = y\n  }\n\n  loop = () => {\n\n    // this.stats.begin()\n     \n    const delta = this.clock.getDelta()\n    this.time += delta\n\n    this.labels.update(this.clock.elapsedTime, delta, this.camera.zoom)\n    \n    this.links.material.uniforms.time.value = this.time\n    this.nodes.material.uniforms.time.value = this.time\n    \n    this.nodes.material.uniforms.cameraOffset.value.x = this.cameraOffset.x\n    this.nodes.material.uniforms.cameraOffset.value.y = this.cameraOffset.y\n    \n    this.links.material.uniforms.cameraOffset.value.x = this.cameraOffset.x\n    this.links.material.uniforms.cameraOffset.value.y = this.cameraOffset.y\n    \n    this.labels.material.uniforms.cameraOffset.value.x = this.cameraOffset.x\n    this.labels.material.uniforms.cameraOffset.value.y = this.cameraOffset.y\n    \n    const nodePositions = this.nodes.geometry.attributes.offset.array\n    for (let i = 0, l = this.nodes.count; i < l; i += 1) {\n      const i3 = i * 3\n      let x = this.nodes.targetPositions.x[i]\n      let y = this.nodes.targetPositions.y[i]\n      nodePositions[i3 + 0] = x\n      nodePositions[i3 + 1] = y\n      const labelIndex = this.labels.nodeIndexToLabelIndex[i]\n      if (labelIndex > -1) {\n        this.labels.setNodePositionAtLabelIndex(labelIndex, x, y)\n      }\n    }\n\n    this.nodes.geometry.attributes.offset.needsUpdate = true\n\n\n    const rotationAxis = new THREE.Vector3(0, 0, 1).normalize()\n\n    const linkPositions = this.links.geometry.attributes.offset.array\n    const linkScales = this.links.geometry.attributes.scale.array\n    const linkRotations = this.links.geometry.attributes.orientation.array\n    for (let i = 0, l = this.links.count; i < l; i += 1) {\n      const i2 = i * 2\n      const i3 = i * 3\n      const i4 = i * 4\n      // here calculate position and angle of bar, based on nodes new positions\n      const nodeId1 = this.links.data[i].source\n      const nodeId2 = this.links.data[i].target\n      const body1X = nodePositions[nodeId1 * 3 + 0]\n      const body1Y = nodePositions[nodeId1 * 3 + 1]\n      const body2X = nodePositions[nodeId2 * 3 + 0]\n      const body2Y = nodePositions[nodeId2 * 3 + 1]\n      \n      linkScales[i2 + 0] = Math.hypot(body2X-body1X, body2Y-body1Y)\n      // linkScales[i2 + 1] = (this.mouse.target == nodeId1 || this.mouse.target == nodeId2 ? 100 : 20) * this.settings.renderer.links.scale\n\n      linkPositions[i3 + 0] = (body1X + body2X) / 2\n      linkPositions[i3 + 1] = (body1Y + body2Y) / 2\n      const deltaX = body1X - body2X\n      const deltaY = body1Y - body2Y\n      const angle = Math.atan2(deltaY, deltaX) //% Math.PI\n      this.links.quaternion.setFromAxisAngle(rotationAxis, angle)\n      linkRotations[i4 + 0] = this.links.quaternion.x\n      linkRotations[i4 + 1] = this.links.quaternion.y\n      linkRotations[i4 + 2] = this.links.quaternion.z\n      linkRotations[i4 + 3] = this.links.quaternion.w\n    }\n    \n    this.links.geometry.attributes.offset.needsUpdate = true\n    this.links.geometry.attributes.scale.needsUpdate = true\n    this.links.geometry.attributes.orientation.needsUpdate = true\n\n    this.draw()\n    \n    this.animationCallback = window.requestAnimationFrame(this.loop)\n    // this.stats.end()\n  }\n  \n  draw () {\n    this.renderer.render(this.scene, this.camera)\n  }\n  \n  findTargetFromMouseMap (x, y) {\n    this.nodes.material.blending = THREE.NormalBlending\n    this.nodes.material.uniforms.isPicking.value = 1\n    this.nodes.material.uniforms.isPicking.needsUpdate = true\n    this.links.material.uniforms.isPicking.value = 1\n    this.links.material.uniforms.isPicking.needsUpdate = true\n    this.labels.material.uniforms.isPicking.value = 1\n    this.labels.material.uniforms.isPicking.needsUpdate = true\n    \n    this.renderer.setClearColor(this.settings.globals.backgroundColor , 0)\n    \n    this.renderer.setRenderTarget(this.pickingRenderTarget)\n    this.renderer.clear()\n    this.renderer.render(this.scene, this.camera)\n    this.renderer.setRenderTarget(null)\n    \n    this.renderer.setClearColor(this.settings.globals.backgroundColor , 1)\n\n    this.nodes.material.uniforms.isPicking.value = 0\n    this.nodes.material.uniforms.isPicking.needsUpdate = true\n    this.links.material.uniforms.isPicking.value = 0\n    this.links.material.uniforms.isPicking.needsUpdate = true\n    this.labels.material.uniforms.isPicking.value = 0\n    this.labels.material.uniforms.isPicking.needsUpdate = true\n\n    this.renderer.readRenderTargetPixels(\n      this.pickingRenderTarget,\n      x * this.pickingRenderTarget.width,\n      y * this.pickingRenderTarget.height,\n      1,\n      1,\n      this.pixelBuffer\n    )\n\n    // interpret the pixel as an ID\n    let id =\n      (this.pixelBuffer[ 0 ] << 16) |\n      (this.pixelBuffer[ 1 ] << 8) |\n      (this.pixelBuffer[ 2 ])\n    id -= 1\n\n    if (id >= 0) {\n      return id\n    } else {\n      return -1\n    }\n  }\n  \n  handleResize = () => {\n    const {width, height} = this.container.getBoundingClientRect();\n    console.log('resized:', width, height)\n    this.width = width\n    this.height = height\n\n    this.canvas.width = width\n    this.canvas.height = height\n\n    const scale = Math.min(this.width / SAFE_WIDTH, this.height / SAFE_HEIGHT)\n\n    const projectedWidth = (this.width / 2) / scale \n    const projectedHeight = (this.height / 2) / scale \n\n    this.camera.left = -projectedWidth\n    this.camera.right = projectedWidth\n    this.camera.top = projectedHeight\n    this.camera.bottom = -projectedHeight\n\n    this.camera.updateProjectionMatrix()\n    this.renderer.setSize(this.width, this.height)\n\n    this.pickingRenderTarget.setSize(width, height)\n  }\n\n\n  handleMouseLeave = () => {\n    this.handleMouseUp()\n  }\n  \n  handleMouseUp = () => {\n    this.mouse.isDown = false\n    this.mouse.target = -1\n    this.worker.postMessage({\n      command: 'update-fixed-x-y-at',\n      mouseTargetIndex: -1\n    })\n  }\n\n  handleDrag (diffX, diffY) {\n    // After various approaches we need to pass the global camera offset to the shader and let the shader manage the offset\n    // this is because of the instanced nature of the particles, \n    // if the mesh position is outside the viewport, the other particles would not get rendered.\n    this.cameraOffset.x += diffX\n    this.cameraOffset.y += diffY\n  }\n\n  zoomByIncrement (zoomDirection) {\n    if (zoomDirection == 'in') {\n      this.zoom(5);\n    } else {\n      this.zoom(-5);\n    }\n  }\n\n  zoom (delta) {\n    this.camera.previousZoom = this.camera.zoom\n    const ZOOM_MIN = 0.005\n    const ZOOM_MAX = 40\n    const ZOOM_VEL = 0.02\n    this.camera.zoom = Math.min(ZOOM_MAX, Math.max(ZOOM_MIN, this.camera.zoom + delta * ZOOM_VEL))\n    this.camera.updateProjectionMatrix()\n  }\n\n  handleScroll = event => {\n    // this.camera.previousZoom = this.camera.zoom\n    var delta = event.wheelDelta ? event.wheelDelta/40 : event.detail ? -event.detail : 0;\n    if (delta) {\n      this.zoom(delta)\n    }\n    return event.preventDefault() && false;\n  }\n  \n  handleMouseMove = event => {\n    let x = (event.offsetX || (event.pageX - this.canvas.offsetLeft)) / this.canvas.width * window.devicePixelRatio\n    let y = 1 - (event.offsetY || (event.pageY - this.canvas.offsetTop)) / this.canvas.height * window.devicePixelRatio\n    let projectedX = (this.camera.right - this.camera.left) * x + this.camera.left\n    let projectedY = (this.camera.top - this.camera.bottom) * y + this.camera.bottom\n    projectedX /= this.camera.zoom\n    projectedY /= this.camera.zoom\n    // this.mouse.position.x\n    if (this.mouse.target > -1) {\n      this.worker.postMessage({\n        command: 'update-fixed-x-y-at',\n        // ratioX: x,\n        // ratioY: y,\n        x: projectedX - this.cameraOffset.x,\n        y: projectedY - this.cameraOffset.y,\n        mouseTargetIndex: this.mouse.target\n      })\n    } else  if (this.mouse.isDown) {\n      \n      // find the diff between previous and current,\n      // then set previous with the values of current\n      this.mouse.position.current.ratioX = x\n      this.mouse.position.current.ratioY = y\n      this.mouse.position.current.projectedX = projectedX\n      this.mouse.position.current.projectedY = projectedY\n      \n      const diffX = this.mouse.position.current.projectedX - this.mouse.position.previous.projectedX\n      const diffY = this.mouse.position.current.projectedY - this.mouse.position.previous.projectedY\n      \n      this.mouse.position.previous.ratioX = this.mouse.position.current.ratioX\n      this.mouse.position.previous.ratioY = this.mouse.position.current.ratioY\n      this.mouse.position.previous.projectedX = this.mouse.position.current.projectedX\n      this.mouse.position.previous.projectedY = this.mouse.position.current.projectedY\n      \n      this.handleDrag(diffX, diffY)\n    }\n  }\n  \n  handleMouseDown = event => {\n    console.log\n    // this.handleMouseTouchON(event.pageX, event.pageY, event.offsetX, event.offsetY);\n    this.handleMouseTouchON(event);\n  }\n  \n  handleMouseTouchON = (event) => {\n    // handleMouseTouchON = (pageX, pageY, offsetX, offsetY) => {\n      this.mouse.isDown = true\n      let x = (event.offsetX || (event.pageX - this.canvas.offsetLeft)) / this.canvas.width * window.devicePixelRatio\n      let y = 1 - (event.offsetY || (event.pageY - this.canvas.offsetTop)) / this.canvas.height * window.devicePixelRatio\n      // render the mouse map to define the mouse target\n      this.mouse.target = this.findTargetFromMouseMap(x, y)\n      \n      let projectedX = (this.camera.right - this.camera.left) * x + this.camera.left\n      let projectedY = (this.camera.top - this.camera.bottom) * y + this.camera.bottom\n      projectedX /= this.camera.zoom\n      projectedY /= this.camera.zoom\n      \n      this.mouse.position.current.ratioX = x\n      this.mouse.position.current.ratioY = y\n      this.mouse.position.current.projectedX = projectedX\n      this.mouse.position.current.projectedY = projectedY\n      // reset previsou position to match current\n      this.mouse.position.previous.ratioX = x\n      this.mouse.position.previous.ratioY = y\n      this.mouse.position.previous.projectedX = projectedX\n      this.mouse.position.previous.projectedY = projectedY\n      \n      if (this.mouse.target > -1) {\n        this.labels.toggleEnabledLabelAtNodeIndex(this.mouse.target)\n      }\n      this.worker.postMessage({\n        command: 'update-fixed-x-y-at',\n        x: projectedX - this.cameraOffset.x,\n        y: projectedY - this.cameraOffset.y,\n        mouseTargetIndex: this.mouse.target\n      })\n    }\n    \n    addListeners () {\n      window.addEventListener('resize', this.handleResize, false)\n      \n      this.canvas.addEventListener('DOMMouseScroll', this.handleScroll, false)\n      this.canvas.addEventListener('mousewheel', this.handleScroll, false)\n      \n      this.canvas.addEventListener('mousemove', this.handleMouseMove, false)\n      this.canvas.addEventListener('mouseout', this.handleMouseLeave, false)\n      \n      this.canvas.addEventListener('mousedown', this.handleMouseDown, false)\n      this.canvas.addEventListener('mouseup', this.handleMouseUp, false)\n      \n      this.canvas.addEventListener('touchstart', this.handleTouchStart, false);\n      this.canvas.addEventListener('touchmove', this.handleTouchMove, false);\n      this.canvas.addEventListener('touchcancel', this.handleMouseLeave, false);\n      this.canvas.addEventListener('touchend', this.handleMouseLeave, false);\n    }\n    \n    removeListeners () {\n      window.removeEventListener('resize', this.handleResize)\n      \n      this.canvas.removeEventListener('DOMMouseScroll', this.handleScroll)\n      this.canvas.removeEventListener('mousewheel', this.handleScroll)\n      \n      this.canvas.removeEventListener('mousemove', this.handleMouseMove)\n      this.canvas.removeEventListener('mouseout', this.handleMouseLeave)\n      \n      this.canvas.removeEventListener('mousedown', this.handleMouseDown)\n      this.canvas.removeEventListener('mouseup', this.handleMouseUp)\n      \n      \n      this.canvas.removeEventListener('touchstart', this.handleTouchStart);\n      this.canvas.removeEventListener('touchmove', this.handleTouchMove);\n      this.canvas.removeEventListener('touchcancel', this.handleMouseLeave);\n      this.canvas.removeEventListener('touchend', this.handleMouseLeave);\n    }\n    \n    handleTouchStart = event => {\n      if (event.changedTouches && event.changedTouches.length) {\n        // let x = (event.offsetX || (event.changedTouches[0].pageX - this.renderer.canvas.offsetLeft)) / this.canvas.width * window.devicePixelRatio\n        // let y = 1 - (event.offsetY || (event.changedTouches[0].pageY - this.renderer.canvas.offsetTop)) / this.canvas.height * window.devicePixelRatio\n        // this.handleMouseTouchON(x, y)\n        // alert (event.changedTouches[0].offsetX)\n        // this.handleMouseTouchON(event.changedTouches[0].pageX, event.changedTouches[0].pageY, 0, 0);\n        this.handleMouseTouchON({\n          pageX: event.changedTouches[0].pageX, \n          pageY: event.changedTouches[0].pageY\n        });\n      }          \n    }\n    \n    handleTouchMove = event => {\n      if (this.mouse.isDown && event.changedTouches && event.changedTouches.length) {\n        this.handleMouseMove({\n          pageX: event.changedTouches[0].pageX, \n          pageY: event.changedTouches[0].pageY\n        });\n        // let x = (event.changedTouches[0].offsetX || (event.changedTouches[0].pageX - this.renderer.canvas.offsetLeft)) / this.canvas.width * window.devicePixelRatio\n        // let y = 1 - (event.changedTouches[0].offsetY || (event.changedTouches[0].pageY - this.renderer.canvas.offsetTop)) / this.canvas.height * window.devicePixelRatio\n        // this.handleMouseTouchON(event.changedTouches[0].pageX, event.changedTouches[0].pageY, 0, 0);\n        // this.handleMouseTouchON(event.changedTouches[0].pageX,  event.changedTouches[0].pageY)\n      }\n      event.stopImmediatePropagation();\n      return event.preventDefault() && false;\n  }\n\n  dispose () {\n    // stop listening to events\n    this.removeListeners()\n    // clear canvas\n    this.canvas.width = 0\n    this.canvas.height = 0\n    this.canvas = null\n    // cancel loop callback\n    window.cancelAnimationFrame(this.animationCallback)\n\n    this._graphics.onScreenIdle = null\n  }\n}\n","<template>\n  <div class=\"canvas-view\">\n    <canvas ref=\"webgl-canvas\" />\n  </div>\n</template>\n\n<script>\nimport Graphics from './../graphics/Graphics'\nimport { mapGetters } from 'vuex'\nimport * as controlTypes from './../constants/control-types'\n\nexport default {\n  name: 'CanvasView',\n  computed: {\n    ...mapGetters(['groups', 'linksColumns', 'linksNormalizedColumns', 'settings'])\n  },\n  props: {\n    nodes: {\n      typre: Array,\n      default: () => []\n    },\n    links: {\n      typre: Array,\n      default: () => []\n    },\n  },\n  watch: {\n    nodes () {\n      this.initialize()\n    }, \n    // groups: {\n    //   deep: true,\n    //   handler () {\n    //     this._graphics.refreshGroups([\n    //       ...this.groups.map(g => Object.assign({}, g))\n    //     ])\n    //   }\n    // },\n    // 'settings.simulation.needsRestart' () {\n    //   if (this.settings.simulation.needsRestart) {\n    //     this._graphics.restart()\n    //     this.$store.dispatch('updateSetting', {\n    //       name: controlTypes.SIMULATION_HAS_RESTARTED,\n    //       value: true\n    //     })\n    //   }\n    // },\n    // 'settings.simulation.alphaDecay' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_ALPHA_DECAY, this.settings.simulation.alphaDecay)\n    // }, \n    // // Links        \n    // 'settings.simulation.links.strength' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_LINKS_STRENGTH, this.settings.simulation.links.strength)\n    // }, \n    // 'settings.simulation.links.distance' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_LINKS_DISTANCE, this.settings.simulation.links.distance)\n    // }, \n    // // Charge \n    // 'settings.simulation.charge.strength' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_CHARGE_STRENGTH, this.settings.simulation.charge.strength)\n    // }, \n    // 'settings.simulation.charge.distanceMin' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_CHARGE_DISTANCE_MIN, this.settings.simulation.charge.distanceMin)\n    // }, \n    // 'settings.simulation.charge.distanceMax' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_CHARGE_DISTANCE_MAX, this.settings.simulation.charge.distanceMax)\n    // }, \n    // // Collision        \n    // 'settings.simulation.collision.strength' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_COLLISION_STRENGTH, this.settings.simulation.collision.strength)\n    // }, \n    // 'settings.simulation.collision.radius' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_COLLISION_RADIUS, this.settings.simulation.collision.radius)\n    // }, \n    // // Force X\n    // 'settings.simulation.forceX.strength' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_FORCE_X_STRENGTH, this.settings.simulation.forceX.strength)\n    // }, \n    // // Force Y\n    // 'settings.simulation.forceY.strength' () {\n    //   this._graphics.updateSettingByName(controlTypes.SIMULATION_FORCE_Y_STRENGTH, this.settings.simulation.forceY.strength)\n    // },\n\n    // // GLOBALS\n\n    // 'settings.globals.backgroundColor' () {\n    //   this._graphics.updateSettingByName(controlTypes.GLOBALS_SET_BACKGROUND_COLOR, this.settings.globals.backgroundColor)\n    // },\n    // 'settings.globals.hue' () {\n    //   this._graphics.updateSettingByName(controlTypes.GLOBALS_SET_HUE, this.settings.globals.hue)\n    // },\n    // 'settings.globals.contrast' () {\n    //   this._graphics.updateSettingByName(controlTypes.GLOBALS_SET_CONTRAST, this.settings.globals.contrast)\n    // },\n    // 'settings.globals.grayscale' () {\n    //   this._graphics.updateSettingByName(controlTypes.GLOBALS_SET_GRAYSCALE, this.settings.globals.grayscale)\n    // },\n\n    // // NODES\n\n    // 'settings.nodes.useTwoColors' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_USE_TWO_COLORS, this.settings.nodes.useTwoColors)\n    // },\n    // // TODO: Look into implementing mergeColumns\n    // // 'settings.nodes.mergeColumns' () {\n    // //   this._graphics.updateSettingByName(controlTypes.NODES_MERGE_COLUMNS, this.settings.nodes.mergeColumns)\n    // // },\n    // 'settings.nodes.color1' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_COLOR_1, this.settings.nodes.color1)\n    // },\n    // 'settings.nodes.color2' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_COLOR_2, this.settings.nodes.color2)\n    // },\n    // 'settings.nodes.factorController' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_FACTOR_CONTROLLER, this.settings.nodes.factorController)\n    // },\n    // 'settings.nodes.minimumOpacity' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_MINIMUM_OPACITY, this.settings.nodes.minimumOpacity)\n    // },\n    // 'settings.nodes.weightedOpacity' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_WEIGHTED_OPACITY, this.settings.nodes.weightedOpacity)\n    // },\n    // 'settings.nodes.minimumScale' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_MINIMUM_SCALE, this.settings.nodes.minimumScale)\n    // },\n    // 'settings.nodes.weightedScale' () {\n    //   this._graphics.updateSettingByName(controlTypes.NODES_SET_WEIGHTED_SCALE, this.settings.nodes.weightedScale)\n    // },\n\n    // // LINKS\n\n    // 'settings.links.color' () {\n    //   this._graphics.updateSettingByName(controlTypes.LINKS_SET_COLOR, this.settings.links.color)\n    // },\n    // 'settings.links.factorController' () {\n    //   this._graphics.updateSettingByName(controlTypes.LINKS_SET_FACTOR_CONTROLLER, this.settings.links.factorController)\n    // },\n    // 'settings.links.minimumOpacity' () {\n    //   this._graphics.updateSettingByName(controlTypes.LINKS_SET_MINIMUM_OPACITY, this.settings.links.minimumOpacity)\n    // },\n    // 'settings.links.weightedOpacity' () {\n    //   this._graphics.updateSettingByName(controlTypes.LINKS_SET_WEIGHTED_OPACITY, this.settings.links.weightedOpacity)\n    // },\n    // 'settings.links.minimumScale' () {\n    //   this._graphics.updateSettingByName(controlTypes.LINKS_SET_MINIMUM_SCALE, this.settings.links.minimumScale)\n    // },\n    // 'settings.links.weightedScale' () {\n    //   this._graphics.updateSettingByName(controlTypes.LINKS_SET_WEIGHTED_SCALE, this.settings.links.weightedScale)\n    // },\n\n    // // LABELS\n\n    // 'settings.labels.isEnabled' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_ACTIVE, this.settings.labels.isEnabled)\n    // },\n    // 'settings.labels.fontScale' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_FONT_SCALE, this.settings.labels.fontScale)\n    // },\n    // 'settings.labels.visibilityThreshold' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_VISIBILITY_THRESHOLD, this.settings.labels.visibilityThreshold)\n    // },\n    // 'settings.labels.textColor' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_TEXT_COLOR, this.settings.labels.textColor)\n    // },\n    // 'settings.labels.textOpacity' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_TEXT_OPACITY, this.settings.labels.textOpacity)\n    // },\n    // 'settings.labels.backgroundColor' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_BACKGROUND_COLOR, this.settings.labels.backgroundColor)\n    // },\n    // 'settings.labels.backgroundOpacity' () {\n    //   this._graphics.updateSettingByName(controlTypes.LABELS_SET_BACKGROUND_OPACITY, this.settings.labels.backgroundOpacity)\n    // },\n  },\n  methods: {\n    updateSetting (name, value) {\n      if(this._graphics) {\n        this._graphics.updateSettingByName(name, value)\n      }\n    },\n    initialize () {\n      this._graphics = new Graphics(\n        this.$el,\n        this.$refs['webgl-canvas'],\n        this.settings,\n        this.nodes,\n        this.links,\n        this.linksColumns,\n        this.linksNormalizedColumns\n      )\n      // this._graphics.onScreenIdle = this.handleScreenIdle\n\n      this._graphics.refreshGroups([\n        ...this.groups.map(g => Object.assign({}, g)\n      )])\n    },\n    zoom (zoomDirection) {\n      this._graphics.zoomByIncrement(zoomDirection);\n    },\n  },\n  destroyed () {\n    this._graphics.dispose()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.canvas-view {\n  width: 100%;\n  min-height: 100vh;\n  overflow: hidden;\n  background: #272727;\n  position: relative;\n  svg,\n  canvas {\n    z-index: 4;\n    position: absolute;\n    // opacity: 0.5;\n    width: 100vw;\n    min-height: 100vh;\n    height: 100vh;\n    max-height: 100vh;\n    background: transparent;\n  }\n  .labels-canvas {\n    z-index: 5;\n    pointer-events: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CanvasView.vue?vue&type=template&id=a0bd1ad2&\"\nimport script from \"./CanvasView.vue?vue&type=script&lang=js&\"\nexport * from \"./CanvasView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CanvasView.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const tooltips = {\n  renderer: {\n    background: {\n      color: '',\n    },\n    nodes: {\n      color: '',\n      scale: ''\n    },\n    links: {\n      color: '',\n      scale: ''\n    },\n    css: {\n      hue: '',\n      contrast: '',\n      grayscale: ''\n    }\n  },\n  simulation: {\n    alphaDecay: `How quickly the current alpha interpolates`,\n    links: {\n      strength: 'Sets the strength accessor',\n      distance: 'Distance of each link (only recomputed when the force is initialized)',\n    },\n    charge: {\n      strength: 'Simulatet atraction if positive, repulsion if negative',\n      distanceMin: '',\n      distanceMax: ''\n    },\n    collision: {\n      strength: '',\n      radius: ''\n    },\n    forceX: {\n      strength: '',\n    },\n    forceY: {\n      strength: '',\n    },\n  },\n  labels: {\n    isEnabled: '',\n    rotationIsEnabled: '',\n    fontScale: '',\n    backgroundOpacity: '',\n    colorSwap: ''\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toggle-btn\",class:{active: _vm.isActive},on:{\"click\":function($event){_vm.isActive = !_vm.isActive; _vm.$emit('change', _vm.isActive)}}},[_c('span',{staticClass:\"btn\",style:({\n      border: (\"2px solid \" + _vm.color),\n      background: _vm.isActive ? _vm.color : 'transparent'\n    })}),_c('span',{staticClass:\"label\",style:((\"color:#182025; border-bottom: 2px solid \" + (_vm.isActive? _vm.color : 'transparent')))},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div \n    @click=\"isActive = !isActive; $emit('change', isActive)\"\n    class=\"toggle-btn\"\n    :class=\"{active: isActive}\"\n    >\n    <span class=\"btn\"\n      :style=\"{\n        border: `2px solid ${color}`,\n        background: isActive ? color : 'transparent'\n      }\">\n    </span>\n    <!-- <span class=\"label\" :style=\"`color:${color}; border-bottom: 2px solid ${isActive? color : 'transparent'}`\"> -->\n    <span class=\"label\" :style=\"`color:#182025; border-bottom: 2px solid ${isActive? color : 'transparent'}`\">\n      {{label}}\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ToggleBtn',\n  props: {\n    active: {\n      type: Boolean,\n      required: true\n    },\n    color: {\n      type: String,\n      default: '0xfa0808'\n    },\n    label: {\n      type: String,\n      required: true\n    }\n  },\n  data: () => ({\n    isActive: false\n  }),\n  mounted () {\n    this.isActive = this.active\n  },\n  methods: {\n    setActive (state) {\n      this.isActive = state;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.toggle-btn {\n  cursor: pointer;\n\n  span.label {\n    pointer-events: none;\n    transition: all ease-in-out 250ms;\n  }\n\n  .btn {\n\n    display: inline-block;\n    vertical-align: middle;\n    border: 1px solid inherit;\n    box-sizing: border-box;\n    color:#333;\n    width: 16px;\n    height: 16px;\n    border-radius: 15px;\n    position: relative;\n    cursor: pointer;\n    \n    &:before {\n    // &:after {\n      content: \" \";\n      border-radius: 50%;\n      display: block;\n      position: absolute;\n      width: 12px;\n      height: 12px;\n      top: 1px;\n      left: 1px;\n      // background: rgba(#f1f2f3,0.2);\n      background: transparent;\n      // background: transparent;\n      transition: all ease-in-out 250ms;\n      opacity: 1;\n      // border: 6px solid inherit;\n      transform: scale(0);\n    }\n    // &:before {\n    //   // background: rgba(#f1f2f3, 0.4);\n    // background: transparent;\n    // // border: 2px solid inherit;\n    //   // border: none;\n    //   transform: scale(1);\n    // }\n  }\n  &.active {\n    .btn{\n      // &:before {\n      //   background: transparent;\n      //   border: 2px solid inherit;\n      //   transform: scale(0);\n      //   opacity: 1;\n      // }\n      // &:after {\n      //   background: transparent;\n      //   border: 2px solid inherit;\n      // // background: rgba(#f1f2f3,0.2);\n      //   // border-color: #333;\n      //   transform: scale(1);\n      //   opacity: 0.5;\n      // }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToggleBtn.vue?vue&type=template&id=1ccdaec4&\"\nimport script from \"./ToggleBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./ToggleBtn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToggleBtn.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :class=\"['app page-container', {'menu-visible': menuVisible}]\">\n    <canvas-view\n      ref=\"canvas-view\"\n      :style=\"`filter: hue-rotate(${settings.globals.hue}deg) grayscale(${settings.globals.grayscale}%) contrast(${settings.globals.contrast}%)`\"\n      v-if=\"isReadyForUI\"\n      :settings=\"settings\"\n      :nodes=\"nodes\"\n      :links=\"links\"\n      />\n\n      <div class=\"groups-caption\">\n        <toggle-btn \n          ref=\"show-islands-toggle\"\n          :active=\"true\" :label=\"showIslandsBtnLabel\" color=\"#083868\"\n          @change=\"toggleIslands\" /> \n      </div>\n\n      <div class=\"zoom-controls\">\n        <span class=\"btn-zoom\" @click=\"zoom('out')\">-</span>\n        <span class=\"btn-zoom\" @click=\"zoom('in')\">+</span>\n      </div>\n\n      <header class=\"header\">\n        <h1>Border to Border,</h1>\n        <h2>A different perspective.</h2>\n        <span class=\"btn\" @click=\"showMoreInfo=!showMoreInfo\">({{showMoreInfo ? 'Close' : 'More Info'}})</span>\n        <transition name=\"fade\">\n          <div v-if=\"showMoreInfo\">\n            <p><em>Author: </em><a class=\"btn\" href=\"https://www.michael-iriarte.com/\" rel=\"no-follow\">Michael 'Mika' Iriarte</a></p>\n            <p><em>Tools: </em><a class=\"btn\" href=\"https://d3js.org/\" rel=\"no-follow\">D3.js</a>\n             and <a class=\"btn\" href=\"https://threejs.org/examples/\" rel=\"no-follow\">Three.js</a></p>\n            <p><em>Data: </em><a class=\"btn\" href=\"https://github.com/geodatasource/country-borders\" rel=\"no-follow\">Borders</a> and\n            <a class=\"btn\" href=\"https://developers.google.com/public-data/docs/canonical/countries_csv\" rel=\"no-follow\">Centroids</a>\n            <p><em>Note:</em> Overseas territories are represented as separate entities (e.g. Gibraltar, French Guiana)</p>\n          </div>\n        </transition>\n      </header>\n\n  </div>\n\n</template>\n\n<script>\nimport CanvasView from './components/CanvasView.vue'\nimport {mapGetters} from 'vuex'\nimport * as controlTypes from './constants/control-types'\nimport {tooltips} from './constants/tooltips'\nimport ToggleBtn from './components/ToggleBtn.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    'toggle-btn': ToggleBtn,\n    'canvas-view': CanvasView,\n  },\n  data: () => ({\n    controlTypes,\n    tooltips,\n    columnOptions: '',\n    panelsOpened: {\n      googleSheet: false,\n      presets: false,\n      simulation: false,\n      globals: false,\n      nodes: false,\n      links: false,\n      labels: false,\n      groups: false,\n      caption: false,\n    },\n    menuVisible: true,\n    showIslands: true,\n    showMoreInfo: false\n  }),\n  watch: {\n    nodes () {\n      this.$nextTick(this.initialize)\n    },\n  },\n  computed: {\n    ...mapGetters([\n      'isLoaded', 'isSignedIn', 'isReadyForUI',\n      'user',\n      'nodes',\n      'links',\n      'linksColumns',\n      'groups',\n      'settings',\n      'captionSettings'\n    ]),\n    showIslandsBtnLabel () {\n      return this.showIslands ? 'Hide Islands' : 'Display Islands'\n    }\n  },\n  methods: {\n    toggleIslands (toggle) {\n      if (toggle) {\n        window.location.href = `${window.location.href}?show-islands=${toggle}`;\n      } else {\n        const [base] = window.location.href.split('?');\n        window.location.href = base;\n      }\n    },\n    zoom (zoomDirection) {\n      this.$refs['canvas-view'].zoom(zoomDirection)\n    },\n    initialize () {\n      // const userCustomPresetData = localStorage.getItem('user-custom-preset')\n      // if (userCustomPresetData) {\n      //   const userCustomPreset = JSON.parse(userCustomPresetData)\n      //   this.$refs['setting-panel-presets'].initializeUserPreset(userCustomPreset)\n      // }\n    },\n    setOpenMenu (menu) {\n      for (let key in this.panelsOpened) {\n        this.panelsOpened[key] = menu == key\n      }\n    },\n    toggleGroupVisibilityAt (index) {\n      this.$store.dispatch('updateGroupKeyAt', {\n        index,\n        keyName: 'visible',\n        value: !this.groups[index].visible\n      })\n    },\n    updateSetting (name, value = null) {\n      this.$store.dispatch('updateSetting', {name, value})\n    }\n  },\n  mounted () {\n\n    const url = new URL(window.location.href);\n    const showIslands = url.searchParams.get('show-islands');\n    this.$refs['show-islands-toggle'].setActive(showIslands);\n    this.showIslands = showIslands;\n\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"./scss/base\";\n@import \"./scss/variables\";\n\nhtml,\nbody,\n.app.page-container {\n  margin: 0;\n  padding: 0;\n  border: none;\n  width: 100vw;\n  height: 100vh;\n  background: #272727;\n  user-select: none;\n  overflow: hidden;\n  header.header {\n    position: fixed;\n    z-index: 1;\n    top: 5px;\n    left: 5px;\n    border-radius: 5px;\n    padding: 10px;\n    min-width: 60px;\n    list-style: none;\n    margin: 10px 5px;\n    color: #111111;\n    max-width: 300px;\n    background: rgba(255, 255, 255, 0.8);\n    h1 {\n      margin: 0;\n      line-height: 1.2;\n      font-size: 20px;\n    }\n    h2 {\n      line-height: 1.2;\n      margin: 0;\n      font-size: 18px;\n    }\n    p {\n      margin: 0;\n      font-size: 12px;\n    }\n    em {\n      font-weight: 600;\n    }\n    .btn {\n      margin: 0;\n      display: inline;\n      color: #2e4552;\n      font-weight: 300;\n      font-size: 12px;\n      text-decoration: underline;\n      font-variant: all-petite-caps;\n      cursor: pointer;\n    }\n  }\n  .zoom-controls {\n    position: fixed;\n    z-index: 1;\n    bottom: 5px;\n    right: 5px;\n    border-radius: 5px;\n    padding: 10px;\n    min-width: 60px;\n    list-style: none;\n    margin: 10px 5px;\n    background: transparent;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    .btn-zoom {\n      margin: 0 0 0 10px;\n      color: #2e4552;\n      background: rgba(white, 0.8);\n      font-weight: 100;\n      font-size: 18px;\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n      width: 30px;\n      height: 30px;\n      position: relative;\n      border: 1px solid #083868;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n  }\n  .groups-caption {\n    position: fixed;\n    z-index: 1;\n    bottom: 5px;\n    left: 5px;\n    border-radius: 5px;\n    padding: 10px;\n    min-width: 60px;\n    list-style: none;\n    margin: 10px 5px;\n    background: transparent;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    .border-layer,\n    .background-layer {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      border-radius: 5px;\n      z-index: -1;\n    }\n    .group-color-block {\n      height: auto;\n      line-height: 1;\n      padding: 4px 0;\n    }\n  }\n}\n\n\n</style>\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=e30838d0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {loadJS} from './utils/loadJS'\nimport * as controlTypes from './constants/control-types'\n\n// VOs\nimport Group from './vo/Group'\n\nconst url = new URL(window.location.href);\nconst showIslands = url.searchParams.get('show-islands');\n\nconst themeColor = '#083868'\n// const themeColor = '#8fc7e9'\n\nconst mockData = require('./../data/merged-dataset.json')\n// const mockData = require('./../data/countries.json')\n// const mockData = require('./../data/countries-fullnames.json')\n\nVue.use(Vuex);\n\n/*\n[PRESET APPLIED] {\"simulation\":{\"needsRestart\":false,\"numVisibleNodes\":0,\"isRunning\":true,\"alphaDecay\":0.00746,\"links\":{\"strength\":0.77,\"distance\":279},\"charge\":{\"strength\":242,\"distanceMin\":201,\"distanceMax\":258},\"collision\":{\"strength\":0.36,\"radius\":2.39},\"forceX\":{\"strength\":0},\"forceY\":{\"strength\":0}},\"globals\":{\"backgroundColor\":\"#2e9dff\",\"hue\":0,\"contrast\":100,\"grayscale\":0},\"links\":{\"color\":\"#ffffff\",\"factorController\":\"none\",\"minimumOpacity\":0.5,\"weightedOpacity\":0,\"minimumScale\":3.51,\"weightedScale\":0},\"nodes\":{\"useTwoColors\":false,\"mergeColumns\":true,\"color1\":\"#70ffe7\",\"color2\":\"#448836\",\"factorController\":\"number-of-links\",\"minimumOpacity\":1,\"weightedOpacity\":0,\"minimumScale\":4,\"weightedScale\":4.81},\"labels\":{\"isEnabled\":true,\"fontScale\":0.84,\"visibilityThreshold\":0,\"textColor\":\"#02046a\",\"textOpacity\":1,\"backgroundColor\":\"#70ffe7\",\"backgroundOpacity\":1},\"caption\":{\"isEnabled\":true,\"textColor\":\"#ffffff\",\"textSize\":11,\"backgroundColor\":\"#141a2b\",\"backgroundOpacity\":0.84,\"borderColor\":\"#111111\",\"borderOpacity\":0,\"borderSize\":0}}\n*/\n\n// const CLIENT_ID = 'XXXXXXXXXXXXXXXXXXXXXXXX.googleusercontent.com'\n// const API_KEY = 'XXXXXXXXXXXXXXXXXXXXXXXX-XXXX'\n// // Array of API discovery doc URLs for APIs used by the quickstart\n// const DISCOVERY_DOCS = ['https://sheets.googleapis.com/$discovery/rest?version=v4']\n// // Authorization scopes required by the API; multiple scopes can be\n// // included, separated by spaces.\n// const SCOPES = 'https://www.googleapis.com/auth/spreadsheets.readonly profile'\n\n\nconst handleResponse = (response, commit) => {\n  const alphabet = 'abcdefghijklmnopqrstuvwxyz'\n\n  const linksColumns = Object.create(null)\n  const linksNormalizedColumns = Object.create(null)\n\n  const keys = Object.create(null)\n  response.result.values.forEach((value, rowIndex) => {\n    if (showIslands || (value[0] != '' && value[1] != '')) {\n      // count column A and B all together\n      keys[value[0]] = (keys[value[0]] || 0) + 1\n      keys[value[1]] = (keys[value[1]] || 0) + 1\n      // save columns data\n      value.forEach((val, letterIndex) => {\n        linksColumns[alphabet[letterIndex]] = linksColumns[alphabet[letterIndex]] || []\n        linksColumns[alphabet[letterIndex]][rowIndex] = val\n      })\n    }\n  })\n\n  commit('setLinksColumnsData', {linksColumns})\n\n  const min = Math.min(...Object.keys(keys).map(key => keys[key]))\n  const max = Math.max(...Object.keys(keys).map(key => keys[key]))\n  console.log({min, max})\n  const keysToIndex = Object.create(null)\n  const NODE_TYPE_A = 1\n  const NODE_TYPE_B = 2\n  const NODE_TYPE_MIX = 3\n  const nodes = []\n  let index = 0;\n  Object.keys(keys).map((key) => {\n    if (key != '') {\n      const node = Object.create(null)\n      node.id = index\n      node.code = key\n      node.name = key != '' ? mockData.countries[key].name : ''\n      // node.name = mockData.countries[key].name\n      // node.type = keysA[key] && keysB[key] ? NODE_TYPE_MIX : keysA[key] ? NODE_TYPE_A : NODE_TYPE_B\n      node.type = 1//keysA[key] && keysB[key] ? NODE_TYPE_MIX : keysA[key] ? NODE_TYPE_A : NODE_TYPE_B\n      // normalized radius [0-1] based on number of links\n      // node.connectionScore = (keys[key] - min) / (max - min)\n      // console.log('??', response.result.countries[key].linksCount)\n      node.linksCount = key != '' ? response.result.countries[key].linksCount : 1;\n      node.radius = (keys[key] - min) / (max - min)\n      nodes.push(node)\n      keysToIndex[key] = index;\n      index += 1;\n    }\n  })\n  \n  // add links\n  let links = []\n  // const emptyNodeIndex = nodes.filter(node => node.name=='')[0].id\n  response.result.values.forEach(value => {\n    if (value[0] != '' && value[1] != '') {\n      const link = Object.create(null)\n      link.source = keysToIndex[value[0]]\n      link.target = keysToIndex[value[1]]\n      // console.log('#', link)\n      // if (link.source != emptyNodeIndex && link.target != emptyNodeIndex) {\n        links.push(link)\n      // }\n    // } else {\n    //   console.log('Failed one', value )\n    }\n  })\n  console.log('Finished with', links.length, 'links.' )\n  commit('setNodesAndLinks', {nodes, links})\n}\nexport default new Vuex.Store({\n  state: {\n    google: {\n      isLoaded: false, // when API libraries are loaded\n      isSignedIn: false, // when user is authenticated\n      isReadyForUI: false, // when google sheet data is loaded\n      user: {\n        firstName: null,\n        lastName: null,\n        fullName: null,\n        image: null,\n        userId: null\n      },\n      document: {\n        id: null,\n        sheet: null,\n        firstRow: 1,\n        lastRow: null\n      }\n    },\n    data: {\n      nodes: null,\n      links: null,\n      linksColumns: null,\n      linksNormalizedColumns: null\n    },\n    groups: [],\n    settings: {\n      globals: {\n        backgroundColor: '#fafafa',\n        hue: 0,\n        contrast: 100,\n        grayscale: 0\n      },\n      nodes: {\n        useTwoColors: false,\n        mergeColumns: true,\n        // color1: '#8fc7e9',\n        color1: themeColor,\n        color2: '#333333',\n        factorController: 'number-of-links',\n        minimumOpacity: 1,\n        weightedOpacity: 0,\n        minimumScale: 2,\n        weightedScale: 0.7\n      },\n      links: {\n        // color: '#8fc7e9',\n        color: themeColor,\n        factorController: 'none',\n        minimumOpacity: 1,\n        weightedOpacity: 0,\n        minimumScale: 0.75,\n        weightedScale: 0\n      },\n      simulation: {\n        needsRestart: false,\n        numVisibleNodes: 0,\n        isRunning: true,\n        alphaDecay: 0.,\n        links: {\n          strength: 0.9,\n          distance: 10,\n        },\n        charge: {\n          strength: 0.6,\n          distanceMin: 1,\n          distanceMax: 10\n        },\n        collision: {\n          strength: 0.3,\n          radius: 5\n        },\n        forceX: {\n          strength: 0.2,\n        },\n        forceY: {\n          strength: 0.2,\n        },\n      },\n      labels: {\n        isEnabled: true,\n        fontScale: 0.75,\n        visibilityThreshold: 0.5,\n        textColor: '#fafafa',\n        textOpacity: 1,\n        // backgroundColor: '#8fc7e9',\n        backgroundColor: themeColor,\n        backgroundOpacity: 0.8,\n      },\n      caption: {\n        isEnabled: true,\n        textColor: '#111111',\n        textSize: 10,\n        backgroundColor: '#fafafa',\n        backgroundOpacity: 0.5,\n        borderColor: '#111111',\n        borderOpacity: 1,\n        borderSize: 1\n      }\n    }\n  },\n  getters: {\n    isLoaded: state => state.google.isLoaded,\n    isSignedIn: state => state.google.isSignedIn,\n    isReadyForUI: state => state.google.isReadyForUI,\n    links: state => state.data.links,\n    nodes: state => state.data.nodes,\n    document: state => state.google.document,\n    user: state => state.google.user.userId ? state.google.user : null,\n    linksColumns: state => state.data.linksColumns,\n    linksNormalizedColumns: state => state.data.linksNormalizedColumns,\n    groups: state => state.groups,\n    settings: state => state.settings,\n    captionSettings: state => state.settings.caption,\n  },\n  mutations: {\n    applyPreset (state, preset) {\n      // eslint-disable-next-line\n      console.log('[PRESET APPLIED]', JSON.stringify(preset))\n      Vue.set(state.settings, 'nodes', preset.nodes)\n      Vue.set(state.settings, 'links', preset.links)\n      Vue.set(state.settings, 'globals', preset.globals)\n      Vue.set(state.settings, 'simulation', preset.simulation)\n      Vue.set(state.settings, 'labels', preset.labels)\n      Vue.set(state.settings, 'caption', preset.caption)\n    },\n    updateSetting (state, {name, value}) {\n\n      switch (name) {\n        \n        // Simulation\n        \n        case controlTypes.SIMULATION_RESTART :\n          state.settings.simulation.needsRestart = true\n          break\n        \n        case controlTypes.SIMULATION_HAS_RESTARTED :\n          state.settings.simulation.needsRestart = false\n          break\n        \n        case controlTypes.SIMULATION_ALPHA_DECAY :\n          state.settings.simulation.alphaDecay = value\n          break\n\n        // Links        \n        case controlTypes.SIMULATION_LINKS_STRENGTH :\n          state.settings.simulation.links.strength = value\n          break\n        case controlTypes.SIMULATION_LINKS_DISTANCE :\n          state.settings.simulation.links.distance = value\n          break\n        // Charge \n        case controlTypes.SIMULATION_CHARGE_STRENGTH :\n          state.settings.simulation.charge.strength = value\n          break\n        case controlTypes.SIMULATION_CHARGE_DISTANCE_MIN :\n          state.settings.simulation.charge.distanceMin = value\n          break\n        case controlTypes.SIMULATION_CHARGE_DISTANCE_MAX :\n          state.settings.simulation.charge.distanceMax = value\n          break\n        // Collision        \n        case controlTypes.SIMULATION_COLLISION_STRENGTH :\n          state.settings.simulation.collision.strength = value\n          break\n        case controlTypes.SIMULATION_COLLISION_RADIUS :\n          state.settings.simulation.collision.radius = value\n          break\n        // Force X\n        case controlTypes.SIMULATION_FORCE_X_STRENGTH :\n          state.settings.simulation.forceX.strength = value\n          break\n        // Force Y\n        case controlTypes.SIMULATION_FORCE_Y_STRENGTH :\n          state.settings.simulation.forceY.strength = value\n          break\n        \n        // RENDERER / CSS\n\n        case controlTypes.GLOBALS_SET_HUE :\n          state.settings.globals.hue = value\n          break\n\n        case controlTypes.GLOBALS_SET_CONTRAST :\n          state.settings.globals.contrast = value\n          break\n  \n        case controlTypes.GLOBALS_SET_GRAYSCALE :\n          state.settings.globals.grayscale = value\n          break\n  \n        case controlTypes.GLOBALS_SET_BACKGROUND_COLOR :\n          state.settings.globals.backgroundColor = value\n          break\n\n\n\n        case controlTypes.NODES_USE_TWO_COLORS :\n          state.settings.nodes.useTwoColors = value\n          break\n\n        // case controlTypes.NODES_MERGE_COLUMNS :\n        //   // eslint-disable-next-line\n        //   console.warn('Expeted to true by default, needs to be implemented')\n        //   state.settings.nodes.mergeColumns = value\n        //   break\n\n        case controlTypes.NODES_SET_COLOR_1 :\n          state.settings.nodes.color1 = value\n          break\n\n        case controlTypes.NODES_SET_COLOR_2 :\n          state.settings.nodes.color2 = value\n          break\n\n        case controlTypes.NODES_SET_FACTOR_CONTROLLER :\n          state.settings.nodes.factorController = value\n          if (value.toLowerCase() == 'none' || value.trim() == '') {\n            state.settings.nodes.weightedScale = 0\n            state.settings.nodes.weightedOpacity = 0\n          }\n          break\n\n\n        case controlTypes.NODES_SET_MINIMUM_OPACITY :\n          state.settings.nodes.minimumOpacity = value\n          break\n        case controlTypes.NODES_SET_WEIGHTED_OPACITY :\n          state.settings.nodes.weightedOpacity = value\n          break\n\n        case controlTypes.NODES_SET_MINIMUM_SCALE :\n          state.settings.nodes.minimumScale = value\n          break\n        case controlTypes.NODES_SET_WEIGHTED_SCALE :\n          state.settings.nodes.weightedScale = value\n          break\n\n        case controlTypes.LINKS_SET_COLOR :\n          state.settings.links.color = value\n          break\n\n        case controlTypes.LINKS_SET_FACTOR_CONTROLLER :\n          state.settings.links.factorController = value\n          if (value.toLowerCase() == 'none' || value.trim() == '') {\n            state.settings.links.weightedScale = 0\n            state.settings.links.weightedOpacity = 0\n          }\n          break\n\n        case controlTypes.LINKS_SET_MINIMUM_OPACITY :\n          state.settings.links.minimumOpacity = value\n          break\n\n        case controlTypes.LINKS_SET_WEIGHTED_OPACITY :\n          state.settings.links.weightedOpacity = value\n          break\n\n\n        case controlTypes.LINKS_SET_MINIMUM_SCALE :\n          state.settings.links.minimumScale = value\n          break\n\n        case controlTypes.LINKS_SET_WEIGHTED_SCALE :\n          state.settings.links.weightedScale = value\n          break\n\n        // LABELS\n\n        case controlTypes.LABELS_SET_ACTIVE :\n          state.settings.labels.isEnabled = value\n          break\n\n        case controlTypes.LABELS_SET_FONT_SCALE :\n          state.settings.labels.fontScale = value\n          break\n\n        case controlTypes.LABELS_SET_VISIBILITY_THRESHOLD :\n          state.settings.labels.visibilityThreshold = value\n          break\n        \n        case controlTypes.LABELS_SET_TEXT_COLOR :\n          state.settings.labels.textColor = value\n          break\n        \n        case controlTypes.LABELS_SET_TEXT_OPACITY :\n          state.settings.labels.textOpacity = value\n          break\n\n        case controlTypes.LABELS_SET_BACKGROUND_COLOR :\n          state.settings.labels.backgroundColor = value\n          break\n        \n        case controlTypes.LABELS_SET_BACKGROUND_OPACITY :\n          state.settings.labels.backgroundOpacity = value\n          break\n        \n        // CAPTION\n\n        case controlTypes.CAPTION_IS_ENABLED :\n          state.settings.caption.isEnabled = value\n          break\n\n        case controlTypes.CAPTION_TEXT_COLOR :\n          state.settings.caption.textColor = value\n          break\n\n        case controlTypes.CAPTION_TEXT_SIZE :\n          state.settings.caption.textSize = value\n          break\n\n        case controlTypes.CAPTION_BACKGROUND_COLOR :\n          state.settings.caption.backgroundColor = value\n          break\n\n        case controlTypes.CAPTION_BACKGROUND_OPACITY :\n          state.settings.caption.backgroundOpacity = value\n          break\n\n        case controlTypes.CAPTION_BORDER_COLOR :\n          state.settings.caption.borderColor = value\n          break\n\n        case controlTypes.CAPTION_BORDER_SIZE :\n          state.settings.caption.borderSize = value\n          break\n\n        case controlTypes.CAPTION_BORDER_OPACITY :\n          state.settings.caption.borderOpacity = value\n          break\n\n      }\n    },\n\n    setLinksColumnsData (state, {linksColumns, linksNormalizedColumns}) {\n      state.data.linksColumns = Object.assign(Object.create(null), linksColumns)\n      state.data.linksNormalizedColumns = Object.assign(Object.create(null), linksNormalizedColumns)\n    },\n   \n    updateLoadedStatus (state, isLoaded) {\n      state.google.isLoaded = isLoaded\n    },\n   \n    updateSigninStatus (state, isSignedIn) {\n      state.google.isSignedIn = isSignedIn\n      if (mockData) {\n        state.google.user.firstName = 'mock',\n        state.google.user.lastName = 'data',\n        state.google.user.fullName = 'mock data',\n        state.google.user.image = 'no-image',\n        state.google.user.userId = 'mock-id'        \n      } else if (isSignedIn) {        \n        const profile = window['gapi'].auth2.getAuthInstance().currentUser.get().getBasicProfile()\n        state.google.user.firstName = profile.getGivenName()\n        state.google.user.lastName = profile.getFamilyName()\n        state.google.user.fullName = profile.getName()\n        state.google.user.image = profile.getImageUrl()\n        state.google.user.userId = profile.getId()\n      } else {\n        state.google.user.firstName = null,\n        state.google.user.lastName = null,\n        state.google.user.fullName = null,\n        state.google.user.image = null,\n        state.google.user.userId = null\n      }\n    },\n    updateReadyForUIStatus (state, isReadyForUI) {\n      state.google.isReadyForUI = isReadyForUI\n    },\n    updateDocumentMeta (state, {id, sheet, firstRow, lastRow}) {\n      state.google.document.id = id || state.google.document.id\n      state.google.document.sheet = sheet || state.google.document.sheet\n      state.google.document.firstRow = firstRow || state.google.document.firstRow\n      state.google.document.lastRow = lastRow || state.google.document.lastRow\n\n    },\n    setNodesAndLinks (state, {nodes, links}) {\n      state.data.nodes = nodes\n      state.data.links = links\n    },\n\n    // Groups\n\n    addNewGroup (state) {\n      if (state.groups.length < 4) {\n        state.groups.push(new Group())\n      }\n    },\n    updateGroup (state, group) {\n      const {id, visible, name, color, caseSensitive, queryType, queryString} = group\n      // find group Id, then update values\n      const index = state.groups.map(g => g.id).indexOf(id)\n      if (index > -1) {\n        Vue.set(state.groups[index], 'id', id)\n        Vue.set(state.groups[index], 'visible', visible)\n        Vue.set(state.groups[index], 'name', name)\n        Vue.set(state.groups[index], 'color', color)\n        Vue.set(state.groups[index], 'caseSensitive', caseSensitive)\n        Vue.set(state.groups[index], 'queryType', queryType)\n        Vue.set(state.groups[index], 'queryString', queryString)    \n      } else {\n        throw(new Error('group mismatch error'))\n      }\n    },\n    updateGroupKeyAt (state, {index, keyName, value}) {\n      state.groups[index][keyName] = value\n    },\n    deleteGroupById (state, id) {\n      const index = state.groups.map(g => g.id).indexOf(id)\n      if (index > -1) {\n        state.groups.splice (index, 1)\n      } else {\n        throw(new Error('group mismatch error'))\n      }\n    },\n  },\n  actions: {\n    applyPreset ({commit}, preset) {\n      commit('applyPreset', preset)\n    },\n    updateSetting ({commit}, setting) {\n      commit('updateSetting', setting)\n    },\n    addGroup ({state, commit}) {\n      return new Promise((resolve, reject) => {\n        if (state.groups.length < 4) {\n          commit('addNewGroup')\n          resolve(state.groups[state.groups.length - 1].id)\n        } else {\n          const message = 'Sorry, groups are currently limited to 4 items.'\n          reject(message)\n          alert(message)\n        }\n      })\n    },\n    updateGroup ({commit}, group) {\n      commit('updateGroup', group)\n    },\n    updateGroupKeyAt ({commit}, {index, keyName, value}) {\n      commit('updateGroupKeyAt', {index, keyName, value})\n    },\n    deleteGroupById ({commit}, id) {\n      commit('deleteGroupById', id)\n    },\n    updateDocumentMeta ({commit}, {id, sheet, firstRow, lastRow}) {\n      commit('updateDocumentMeta', {id, sheet, firstRow, lastRow})\n    },\n    validateThenLoadSheet ({state, commit}) {\n      // if (state.google) {\n      //   window['gapi'].client.sheets.spreadsheets.values.get({\n      //     spreadsheetId: state.google.document.id,\n      //     range: `${state.google.document.sheet}!A${state.google.document.firstRow}:Z${state.google.document.lastRow}`,\n      //   }).then(response => {\n      //     // eslint-disable-next-line\n      //     console.log('[GOOGLE-API RESPONSE]:', response.result.values)\n      //     handleResponse(response, commit)\n      //   }, function(response) {\n      //     // eslint-disable-next-line\n      //     console.error('Error: ' + response.result.error.message)\n      //   })\n      // }\n    },\n    // signIn ({state, commit, dispatch}) {\n    //   if (state.google.isLoaded) {\n    //     window['gapi'].auth2\n    //       .getAuthInstance()\n    //       .signIn()\n    //       .then(() => {\n    //         commit('updateSigninStatus', true)\n    //         dispatch('validateThenLoadSheet')\n    //       })\n    //   }\n    // },\n    // signOut ({state, commit}) {\n    //   if (state.google.isLoaded) {\n    //     window['gapi'].auth2\n    //       .getAuthInstance()\n    //       .signOut()\n    //       .then(() => commit('updateSigninStatus', false))\n    //   }\n    // },\n    initialize ({state, commit, dispatch}) {\n      commit('updateLoadedStatus', true)\n      commit('updateSigninStatus', true)\n      commit('updateReadyForUIStatus', true)\n      setTimeout(() => {\n        // eslint-disable-next-line\n        console.log('Mock:', mockData)\n        // handleResponse({result: mockData}, commit)\n        handleResponse({result: {\n          range:'fake-sheet',\n          majorDimension: 'ROWS',\n          countries: mockData.countries,\n          values: mockData.borders\n        }}, commit);\n\n      }, 0);\n    }\n  }\n})\n\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\n// // import VueMaterial from 'vue-material'\nimport './scss/base.scss'\n\n// Vue.use(VueMaterial)\nVue.config.productionTip = false\n\n// delete non recognized slocal storage\nconst version = localStorage.getItem('app-version')\nconst appVersion = '0.0.5'\nif (version != appVersion) {\n  // eslint-disable-next-line\n  console.log('Wiped previous app version local storage.')\n  localStorage.clear()\n  localStorage.setItem('app-version', appVersion)\n}\n\nnew Vue({\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\nstore.dispatch('initialize')","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasView.vue?vue&type=style&index=0&lang=scss&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"57cdef63f6171c18bce0.worker.js\");\n};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleBtn.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}